(function(t){function e(e){for(var a,s,_=e[0],r=e[1],l=e[2],d=0,u=[];d<_.length;d++)s=_[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);c&&c(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,_=1;_<i.length;_++){var r=i[_];0!==o[r]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=i[0]))}return t}var a={},o={admin:0},n=[];function s(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="https://localhost:8080/";var _=window["wpcalMainWebpackJsonp"]=window["wpcalMainWebpackJsonp"]||[],r=_.push.bind(_);_.push=e,_=_.slice();for(var l=0;l<_.length;l++)e(_[l]);var c=r;n.push([0,"chunk-vendors","chunk-common"]),i()})({0:function(t,e,i){t.exports=i("ad9c")},"02a3":function(t,e,i){},"07f5":function(t,e,i){"use strict";var a=i("3f56"),o=i.n(a);o.a},"0d8b":function(t,e,i){},"0f0b":function(t,e,i){},1093:function(t,e,i){},"1a45":function(t,e,i){},"1bd1":function(t,e,i){},"28ea":function(t,e,i){},"3bf5":function(t,e,i){},"3f56":function(t,e,i){},4477:function(t,e,i){"use strict";var a=i("f3b6"),o=i.n(a);o.a},4753:function(t,e,i){"use strict";var a=i("02a3"),o=i.n(a);o.a},"4fc3":function(t,e,i){"use strict";var a=i("ac1b"),o=i.n(a);o.a},"524c":function(t,e,i){"use strict";var a=i("0d8b"),o=i.n(a);o.a},5536:function(t,e,i){"use strict";var a=i("a95d"),o=i.n(a);o.a},"59a1":function(t,e,i){"use strict";var a=i("0f0b"),o=i.n(a);o.a},"59fb":function(t,e,i){"use strict";var a=i("c6fa"),o=i.n(a);o.a},"704d":function(t,e,i){},"71d0":function(t,e,i){"use strict";var a=i("8671"),o=i.n(a);o.a},"744a":function(t,e,i){},"7d3d":function(t,e,i){},"7ee8":function(t,e,i){"use strict";var a=i("1093"),o=i.n(a);o.a},"7f09":function(t,e,i){"use strict";var a=i("3bf5"),o=i.n(a);o.a},"7f4c":function(t,e,i){"use strict";var a=i("1a45"),o=i.n(a);o.a},8671:function(t,e,i){},a502:function(t,e,i){},a550:function(t,e,i){},a95d:function(t,e,i){},aa9f:function(t,e,i){},ac1b:function(t,e,i){},ad9c:function(t,e,i){"use strict";i.r(e);i("e623"),i("e379"),i("5dc8"),i("37e1");var a=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"wpcal_admin_app"}},[t.is_settings_loaded?i("router-view"):t._e()],1)},n=[],s={computed:{is_settings_loaded:function(){return!this._isEmpty(this.$store.getters.get_general_settings)}},methods:{check_and_handle_license_info:function(){null!==this.$store.getters.get_license_info&&this._isEmpty(this.$store.getters.get_license_info)&&this.$router.push("/settings/account/login")}},watch:{"$store.getters.get_license_info":function(){this.check_and_handle_license_info()}},created:function(){this.$store.dispatch("init")}},_=s,r=(i("eec2"),i("07f5"),i("4fc3"),i("2877")),l=Object(r["a"])(_,o,n,!1,null,null,null),c=l.exports,d=(i("96cf"),i("1da1")),u=i("8c4f"),p=i("2f62"),m=i("cdab");a["default"].use(p["a"]);var v=new p["a"].Store({strict:!0,modules:{common:m["a"]},state:{client_end:"admin",store:{license_info:null,current_admin_details:{},current_admin_notices:null,wpcal_site_urls:{}}},mutations:{set_license_info:function(t,e){t.store.license_info=e},set_store_by_obj:function(t,e){for(var i in e)t.store.hasOwnProperty(i)&&(t.store[i]=e[i])}},getters:{get_license_info:function(t){return t.store.license_info},get_current_admin_details:function(t){return t.store.current_admin_details},get_current_admin_notices:function(t){return t.store.current_admin_notices},get_wpcal_site_urls:function(t){return t.store.wpcal_site_urls}},actions:{}}),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Event Types")]),i("router-link",{staticClass:"page-title-action",attrs:{to:"/event-type/add"}},[t._v("+ Create New Event Type")]),i("AdminHeaderRight")],1),i("div",{staticClass:"service-list-cont"},t._l(t.service_list,(function(e,a){var o,n;return i("div",{key:a,staticClass:"service-list-single",class:(o={},o["clr-"+e.color]=!0,o.inactive=-1==e.status,o)},[i("h4",[t._v(t._s(e.name))]),i("span",{class:(n={},n["service_overflow_options_"+e.id]=!0,n)},[i("a",{staticClass:"overflow-btn",staticStyle:{float:"right"},on:{click:function(i){return t.toggle_service_menu(e.id)}}}),i("span",{staticClass:"overflow-options",class:{hidden:t.menu_open_service_id!=e.id}},[i("div",[i("a",{attrs:{href:"#/event-type/edit/"+e.id},on:{click:function(i){return t.toggle_service_menu(e.id)}}},[t._v("Edit this Event Type")])]),i("div",[i("a",{staticStyle:{color:"rgb(232, 70, 83)"},on:{click:function(i){return t.may_show_service_status_change_dialog(-2,e)}}},[t._v("Delete this Event Type")])]),i("hr"),i("div",{staticStyle:{display:"flex"}},[i("span",{staticStyle:{color:"#7c7d9c !important","font-size":"13px"}},[t._v("On/Off")]),1==e.status||-1==e.status?i("OnOffSlider",{staticStyle:{"margin-left":"auto"},attrs:{name:e.id,true_value:"1",false_value:"-1"},on:{prop_slider_value_changed:function(i){return t.may_show_service_status_change_dialog(i,e)}},model:{value:e.status,callback:function(i){t.$set(e,"status",i)},expression:"service.status"}}):t._e()],1)])]),i("div",{staticClass:"et-meta"},[t._v(" "+t._s(t._f("mins_to_str")(e.duration))+", "+t._s(t._f("relationship_type_str")(e.relationship_type))+" ")]),e.post_details.link?i("div",{staticStyle:{display:"flex","margin-top":"10px"}},[i("a",{staticClass:"view-booking-page",attrs:{href:e.post_details.link+"#/booking",target:"_blank"}},[t._v("View Booking Page")]),i("div",{staticStyle:{"margin-left":"auto"}},[i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:t.$store.getters.get_current_admin_details.profile_picture,width:"30",title:"This event type is available only for "+t.$store.getters.get_current_admin_details.display_name+"."}})])]):t._e()])})),0)]),i("v-dialog")],1)},h=[],g=(i("c975"),i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.slider_value,expression:"slider_value"}],staticClass:"slider-checkbox",attrs:{type:"checkbox",id:"slider_"+t.name,"true-value":t.true_value,"false-value":t.false_value},domProps:{checked:Array.isArray(t.slider_value)?t._i(t.slider_value,null)>-1:t._q(t.slider_value,t.true_value)},on:{change:function(e){var i=t.slider_value,a=e.target,o=a.checked?t.true_value:t.false_value;if(Array.isArray(i)){var n=null,s=t._i(i,n);a.checked?s<0&&(t.slider_value=i.concat([n])):s>-1&&(t.slider_value=i.slice(0,s).concat(i.slice(s+1)))}else t.slider_value=o}}}),i("label",{staticClass:"slider-label",attrs:{for:"slider_"+t.name}},[i("span",{staticClass:"slider-inner"}),i("span",{staticClass:"slider-circle"})])])}),b=[],y={name:"OnOffSlider",model:{prop:"prop_slider_value",event:"prop_slider_value_changed"},props:{prop_slider_value:{type:String},name:{type:String},true_value:{},false_value:{}},computed:{slider_value:{get:function(){return this.prop_slider_value},set:function(t){this.$emit("prop_slider_value_changed",t)}}}},w=y,x=(i("b0c6"),Object(r["a"])(w,g,b,!1,null,"1255bc39",null)),k=x.exports,$=i("bc3a"),C=i.n($),q={components:{OnOffSlider:k},data:function(){return{document_title:"Event Types",service_list:{},menu_open_service_id:null}},methods:{load_page:function(){var t=this,e="get_services_of_current_admin",i={};i[e]={dummy__:""};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){i.data&&i.data[e].hasOwnProperty("service_list")&&(t.service_list=i.data[e].service_list)})).catch((function(t){console.log(t)}))},toggle_service_menu:function(t){var e=this;this.menu_open_service_id=this.menu_open_service_id==t?null:t,this.menu_open_service_id&&setTimeout((function(){e.on_click_outside(".service_overflow_options_"+t,(function(){e.menu_open_service_id==t&&(e.menu_open_service_id=null)}))}),100)},may_show_service_status_change_dialog:function(t,e){var i=this,a=[1,-1,-2,"1","-1","-2"];if(-1!=a.indexOf(t)){1!=t&&this.toggle_service_menu(e.id);var o="<ul class='bull'><li>Exisiting bookings will NOT be affected.</li><li>New booking and rescheduling will NOT be allowed.</li><li>Cancellation will be allowed.</li></ul>",n="turn on",s="Turn On",_="";if(-1==t)n="turn off",s='<span style="color: #ff7600;">Turn Off</span>',_=o;else if(-2==t)n="delete",s='<strong style="color: #ff0000;">Delete</strong>',_=o;else if(1==t)return void this.change_service_status(t,e);this.$modal.show("dialog",{title:"Alert",text:"Are you sure, do you want to "+n+" the <strong> "+e.name+"</strong>  event type?<br > "+_,buttons:[{title:s,handler:function(){i.change_service_status(t,e),i.$modal.hide("dialog")}},{title:"Cancel",default:!0,handler:function(){i.load_page(),i.$modal.hide("dialog")}}]})}},change_service_status:function(t,e){var i=this,a={},o="update_service_status_of_current_admin";a[o]={service_id:e.id,status:t};var n="get_services_of_current_admin";a[n]={dummy__:""};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:a};C.a.post(window.wpcal_ajax.ajax_url,s).then((function(t){t.data&&t.data[o].hasOwnProperty("status"),t.data&&t.data[n].hasOwnProperty("service_list")&&(i.service_list=t.data[n].service_list)})).catch((function(t){console.log(t)}))}},mounted:function(){this.load_page()}},S=q,O=(i("e49b"),Object(r["a"])(S,f,h,!1,null,"82f239d2",null)),j=O.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - "+t._s(t.page_title))]),i("AdminHeaderRight")],1),i("div",{class:{"create-event-type":"add"==t.view,"edit-event-type":"edit"==t.view}},[i("div",{staticClass:"steps-main",class:{"step-last":"add"==t.view&&t.tabs_flow.steps[2].form}},["add"==t.view?i("div",[i("div",{staticClass:"validation_errors_cont"}),i("ServiceFormStep1",{attrs:{$v:t.$v,step:t.tabs_flow.steps[0],view:t.view,form:t.form},on:{validate_may_navigate_or_submit:function(e){return t.validate_may_navigate_or_submit(e)},set_active_step_and_toggle:t.set_active_step_and_toggle}}),i("ServiceFormStep2",{attrs:{$v:t.$v,step:t.tabs_flow.steps[1],view:t.view,form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{validate_may_navigate_or_submit:function(e){return t.validate_may_navigate_or_submit(e)},set_active_step_and_toggle:t.set_active_step_and_toggle}}),i("ServiceFormStep3",{attrs:{$v:t.$v,step:t.tabs_flow.steps[2],view:t.view,form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{validate_may_navigate_or_submit:function(e){return t.validate_may_navigate_or_submit(e)}}})],1):t._e(),"edit"==t.view?i("div",[i("div",{staticClass:"validation_errors_cont"})]):t._e(),"edit"==t.view?i("ServiceFormEditView",{attrs:{$v:t.$v,view:t.view,form:t.form,saved_form:t.saved_form,edit_view:t.edit_view,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{submit_form:function(e){return t.validate_may_navigate_or_submit(e)},save_questions:function(e){return t.form_submit()},edit_view_toggle_steps:function(e){return t.edit_view_toggle_steps(e)}}}):t._e()],1)]),i("v-dialog"),i("div",{staticStyle:{margin:"10px 0","font-style":"italic",color:"#555d66"}},[t._v(" A reminder email will be sent to invitees 24hrs before their scheduled event time. ")]),i("SiteTimeZoneInfo")],1)},E=[],z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active"},[i("div",{staticClass:"step-title"},[t._v("Select Invitee Type")]),i("div",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[i("form-row",{attrs:{validator:t.$v.form.relationship_type}},[i("ul",{staticClass:"selector block"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.relationship_type,expression:"form.relationship_type"}],attrs:{type:"radio",id:"one-on-one",value:"1to1"},domProps:{checked:t._q(t.form.relationship_type,"1to1")},on:{change:function(e){return t.$set(t.form,"relationship_type","1to1")}}}),i("label",{attrs:{for:"one-on-one"}},[i("div",{staticClass:"txt-h4"},[t._v("One-on-One")]),i("div",{staticClass:"txt-help"},[t._v(" Allow invitees to book individual slots with you. ")])])]),i("li",{staticClass:"disabled"},[i("input",{attrs:{type:"radio",id:"invitee-group",disabled:""}}),i("label",{attrs:{for:"invitee-group"}},[i("div",{staticClass:"txt-h4"},[t._v(" Group "),i("span",{staticClass:"tag"},[t._v("COMING SOON")])]),i("div",{staticClass:"txt-help"},[t._v(" Allow multiple invitees to book the same slot. Useful for tours, webinars, classes, workshops, etc. ")])])])])]),i("div",{staticClass:"form-row"},[i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button"},on:{click:function(e){return t.$emit("validate_may_navigate_or_submit",1)}}},[t._v(" Continue ")])])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.summary,expression:"step.summary"}],staticClass:"step-single summary"},[i("div",{staticClass:"step-title"},[i("span",[t._v("Invitees type")]),i("a",{on:{click:function(e){return t.$emit("set_active_step_and_toggle",1)}}},[t._v("EDIT")])]),i("div",{staticClass:"step-summary-content"},[t._v("One-on-One")])])])},A=[],N={name:"ServiceFormStep1",props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},$v:{}},mounted:function(){"add"==this.view&&(this.$props.step.summary=!0)}},T=N,I=Object(r["a"])(T,z,A,!1,null,"2afbcf6d",null),M=I.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.upcoming,expression:"step.upcoming"}],staticClass:"step-single upcoming"},[i("div",{staticClass:"step-title"},[t._v("Event type details")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active",attrs:{id:"service_form_step"+t.step.id}},[i("div",{staticClass:"step-title"},[t._v("Event Type Details")]),i("div",{staticClass:"form",on:{submit:function(t){t.preventDefault()}}},[i("form-row",{attrs:{validator:t.$v.form.name},scopedSlots:t._u([{key:"after",fn:function(){return[i("span",{staticClass:"txt-help"},[t._v(" The event type name will be visible to your invitees. Enter something that will guide them through the booking process. Eg. Consultation call with John. ")])]},proxy:!0}])},[i("label",{attrs:{for:"form_name"}},[t._v(" Event type name "),i("abbr",{staticClass:"required",attrs:{title:"required"}},[t._v("*")]),i("em",[t._v("required")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],ref:"service_name",attrs:{id:"form_name",type:"text"},domProps:{value:t.form.name},on:{blur:function(e){return t.$v.form.name.$touch()},input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),"add"==t.view?i("div",{staticClass:"form-row"},[i("label",{staticStyle:{cursor:"default"},attrs:{for:"form_unique_link"}},[t._v(" Event type booking page ")]),i("span",{staticClass:"txt-help"},[t._v(" A page will be created and the booking widget will be added to it. You can manage it after creating this event type. ")])]):t._e(),i("form-row",{scopedSlots:t._u([{key:"after",fn:function(){return[i("span",{staticClass:"txt-help"},[t._v(" Use this to specify how and where both parties will connect at the scheduled time. This will be displayed in the booking screen. ")])]},proxy:!0}])},[i("label",[t._v(" Location "),i("em",[t._v("optional")])]),i("AdminLocationSelector",{model:{value:t.form.locations,callback:function(e){t.$set(t.form,"locations",e)},expression:"form.locations"}})],1),i("form-row",{attrs:{validator:t.$v.form.descr},scopedSlots:t._u([{key:"after",fn:function(){return[i("span",{staticClass:"txt-help"},[t._v(" Use this to provide a short description of your event. This will displayed in the booking screen. ")])]},proxy:!0}])},[i("label",{attrs:{for:"form_descr"}},[t._v(" Description/Instructions "),i("em",[t._v("optional")])]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.descr,expression:"form.descr"}],attrs:{id:"form_descr"},domProps:{value:t.form.descr},on:{input:function(e){e.target.composing||t.$set(t.form,"descr",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.form.color}},[i("label",[t._v(" Event type color "),i("em",[t._v("required")])]),i("ColorSelector",{attrs:{form:t.form,color_prop:"color"}})],1),i("div",{staticClass:"form-row"},["add"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button"},on:{click:function(e){return t.$emit("validate_may_navigate_or_submit",2)}}},[t._v(" Continue ")]):"edit"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("submit_form",2)}}},[t._v(" Save ")]):t._e(),"edit"==t.view?i("button",{staticClass:"wpc-btn tert-link sm mt10 center",attrs:{type:"button"},on:{click:function(e){return t.$emit("edit_view_toggle_steps")}}},[t._v(" Cancel ")]):t._e()])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.summary,expression:"step.summary"}],staticClass:"step-single summary"},[i("div",{staticClass:"step-title"},[i("span",[t._v("Event type details")]),i("a",{on:{click:function(e){return t.$emit("set_active_step_and_toggle",2)}}},[t._v("EDIT")])]),i("div",{staticClass:"step-summary-content"},[i("div",[t._v(t._s(t.form.name))]),t.form.locations.length?i("div",[i("span",{staticStyle:{display:"flex"},domProps:{innerHTML:t._f("locations_summary")(t.form.locations)}})]):t._e()])])])},L=[],R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"event-type-colors"},t._l(t.colors,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form[t.color_prop],expression:"form[color_prop]"}],attrs:{type:"radio",id:"clr-"+a,name:"event-type-clr"},domProps:{value:e,checked:t._q(t.form[t.color_prop],e)},on:{change:function(i){return t.$set(t.form,t.color_prop,e)}}}),i("label",{class:"clr-"+e,attrs:{for:"clr-"+a}})])})),0)])},Y=[],F={props:{form:{},color_prop:{}},data:function(){return{colors:["chill","sunflower","nephritis","carrot","belize","alizarin","wisteria","prunus","midnightblue","concrete"]}}},W=F,B=(i("4477"),Object(r["a"])(W,R,Y,!1,null,"13a331cc",null)),H=B.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0"}},[i("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.selected_locations.length>1?t.selected_locations_drag_drop_options:{},expression:"\n        selected_locations.length > 1\n          ? selected_locations_drag_drop_options\n          : {}\n      ",arg:"options"}],key:t.selected_locations.length>1?100:0,staticClass:"mbox cal-accs",staticStyle:{"margin-bottom":"0"}},[i("div",{staticClass:"set-locations-cont",on:{reordered:t.reorder_selected_locations}},t._l(t.selected_locations,(function(e,a){var o;return i("div",{key:a,staticClass:"set-locations-single",class:(o={},o["location_"+e.type]=!0,o["del-alert"]=t.show_delete_alert(a),o),attrs:{"data-id":a}},[i("div",{class:{"reorder-handle":t.selected_locations.length>1}}),i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("location_name_by_type")(e.type))+" "),t.is_having_edit_options(e)?i("a",{staticStyle:{float:"right","margin-right":"30px"},on:{click:function(i){return t.may_show_popup_form(e,"edit",a)}}},[t._v("EDIT")]):t._e()]),i("div",{staticClass:"icon-delete",on:{click:function(e){t.remove_from_selected_locations(a),t.set_mouseover(a,!1)},mouseover:function(e){return t.set_mouseover(a,!0)},mouseleave:function(e){return t.set_mouseover(a,!1)}}}),!1!==t.is_tp_service_account_added(e.type)?i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t.get_meta_data_for_location(e))+" ")]):t._e(),!1===t.is_tp_service_account_added(e.type)?i("div",{staticClass:"txt-help",staticStyle:{"margin-top":"5px",color:"#ea1919"}},[t._v(" "+t._s(t._f("location_name_by_type")(e.type))+" is not connected. Until you do, it will not show up in Booking widget. "),"googlemeet_meeting"==e.type?i("span",[t._v(" Go to "),i("a",{attrs:{href:"admin.php?page=wpcal_admin#/settings/calendars",target:"_blank"}},[t._v("Calendar settings")]),t._v(' connect a calendar account (if not done already), and set "Add Bookings to..." calendar.')]):i("span",[t._v(" Go to the "),i("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:"admin.php?page=wpcal_admin#/settings/integrations",target:"_blank"}},[t._v("Integrations")]),t._v(" page to connect it now. ")])]):t._e()])})),0),t.selected_locations.length?i("span",{staticClass:"txt-help",staticStyle:{"padding-top":"0","padding-bottom":"5px"}},[t._v("You can give more location options from which your invitees can choose one.")]):t._e(),t.show_add_location_list?t._e():i("button",{staticClass:"wpc-btn secondary md full-width",attrs:{disabled:!t.enable_add_new_location,title:t.enable_add_new_location?"":"You can add only upto 10 locations."},on:{click:function(e){t.show_add_location_list=!0}}},[t._v(" + Add Location ")]),t.show_add_location_list?i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v("Add a Location")]),i("ul",{staticClass:"selector block compact location"},t._l(t.all_locations_final,(function(e,a){return i("li",{key:a},[i("label",{class:"location_"+e.type,on:{click:function(i){return t.add_to_selected_locations(e)}}},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("location_name_by_type")(e.type))+" ")]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(t._f("location_short_descr_by_type")(e.type))+" ")])])])})),0)]):t._e()])]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"location_advance_modal",adaptive:!0,height:"auto",width:"360px"},on:{"before-close":t.location_advance_modal_on_before_close}},[i("div",{staticClass:"mbox bg-light shadow mb0"},[i("div",{staticStyle:{"font-size":"16px","text-align":"center","margin-bottom":"10px",padding:"5px 0"}},[t._v(" "+t._s(t._f("location_name_by_type")(t.current_popup_location.type))+" ")]),t.current_popup_location.form?i("div",[t.current_popup_location.form.hasOwnProperty("who_calls")?i("form-row",{attrs:{validator:t.$v.current_popup_location.form.who_calls}},[i("ul",{staticClass:"selector block mt10 "},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.who_calls,expression:"current_popup_location.form.who_calls"}],attrs:{type:"radio",id:"who_calls_admin",name:"who_calls",value:"admin"},domProps:{checked:t._q(t.current_popup_location.form.who_calls,"admin")},on:{change:function(e){return t.$set(t.current_popup_location.form,"who_calls","admin")}}}),i("label",{attrs:{for:"who_calls_admin"}},[i("div",{staticClass:"txt-h5"},[t._v("I will call my invitee")]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0"}},[t._v(" We'll ask your invitee’s phone number before scheduling. ")])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.who_calls,expression:"current_popup_location.form.who_calls"}],attrs:{type:"radio",id:"who_calls_invitee",name:"who_calls",value:"invitee"},domProps:{checked:t._q(t.current_popup_location.form.who_calls,"invitee")},on:{focus:function(e){return t.ref_focus("location_txt")},click:function(e){return t.ref_focus("location_txt")},change:function(e){return t.$set(t.current_popup_location.form,"who_calls","invitee")}}}),i("label",{attrs:{for:"who_calls_invitee"}},[i("div",{staticClass:"txt-h5"},[t._v("My invitee should call me")]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0"}},[t._v(" We'll provide your number after the call has been scheduled. ")])])])])]):t._e(),t.popup_show_location_field?i("form-row",{attrs:{validator:t.$v.current_popup_location.form.location},scopedSlots:t._u([{key:"after",fn:function(){return[i("span",{staticClass:"txt-help"},[t._v(" "+t._s(t.location_help_txt)+" ")])]},proxy:!0}],null,!1,1695413433)},[i("label",{staticStyle:{"font-size":"14px"},attrs:{for:"location_txt"}},[t._v(t._s(t.location_feild_label))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.location,expression:"current_popup_location.form.location"}],ref:"location_txt",attrs:{type:"text",id:"location_txt"},domProps:{value:t.current_popup_location.form.location},on:{change:function(e){return t.$v.current_popup_location.form.location.$touch()},input:function(e){e.target.composing||t.$set(t.current_popup_location.form,"location",e.target.value)}}})]):t._e(),t.current_popup_location.form.hasOwnProperty("location_extra")?i("span",[i("div",{staticClass:"form-row"},[t.show_location_extra_field?t._e():i("a",{on:{click:function(e){t.show_location_extra_field=!0,t.ref_focus("location_extra")}}},[t._v(" + Add additional info ")])]),t.show_location_extra_field?i("form-row",{attrs:{validator:t.$v.current_popup_location.form.location_extra}},[i("label",{staticStyle:{"font-size":"14px"},attrs:{for:"location_extra"}},[t._v("Location additional info")]),i("span",{staticClass:"txt-help",staticStyle:{"padding-top":"0","padding-bottom":"5px"}},[t._v(" "+t._s(t.location_extra_help_txt)+" ")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.current_popup_location.form.location_extra,expression:"current_popup_location.form.location_extra"}],ref:"location_extra",attrs:{type:"text",id:"location_extra"},domProps:{value:t.current_popup_location.form.location_extra},on:{change:function(e){return t.$v.current_popup_location.form.location_extra.$touch()},input:function(e){e.target.composing||t.$set(t.current_popup_location.form,"location_extra",e.target.value)}}})]):t._e()],1):t._e(),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.save_current_popup_location}},[t._v(" "+t._s("add"==t.current_popup_location_action?"Add Location":"Update")+" ")])],1):t._e()])])],1)},G=[],V=(i("c740"),i("a434"),i("b85c")),Z=i("d8c5"),Q=i("b5ae"),J=i("d1ff"),K={directives:{dragAndDrop:Z["VueDraggableDirective"]},model:{prop:"locations",event:"locations_value_changed"},props:{locations:{type:Array}},data:function(){return{all_locations:[{type:"physical",limit:-1,count:0,show:!0,form:{location:"",location_extra:""}},{type:"phone",limit:1,count:0,show:!0,form:{who_calls:"admin",location:""}},{type:"googlemeet_meeting",limit:1,count:0,show:!0},{type:"zoom_meeting",limit:1,count:0,show:!0},{type:"gotomeeting_meeting",limit:1,count:0,show:!0},{type:"custom",limit:-1,count:0,show:!0,form:{location:"",location_extra:""}},{type:"ask_invitee",limit:1,count:0,show:!0,form:{location:"",location_extra:""}}],show_add_location_list:!1,current_popup_location:{},current_popup_location_action:"",current_popup_location_index:null,show_location_extra_field:!1,selected_locations_drag_drop_options:{dropzoneSelector:".set-locations-cont",draggableSelector:".set-locations-single",handlerSelector:".reorder-handle",reactivityEnabled:!0,multipleDropzonesItemsDraggingEnabled:!1,showDropzoneAreas:!0},tp_locations:{},is_tp_locations_loaded:!1,tp_locations_refresh_interval_instance:null,delete_alert_index:null}},validations:{current_popup_location:{type:{required:Q["required"]},form:{required:Object(Q["requiredIf"])((function(){var t=["physical","phone","custom","ask_invitee"];return-1!==t.indexOf(this.current_popup_location.type)})),who_calls:{required:Object(Q["requiredIf"])((function(){return"phone"===this.current_popup_location.type})),who_calls_in_array:Object(J["d"])(["admin","invitee"])},location:{required:Object(Q["requiredIf"])((function(){var t=["physical","custom"];return-1!==t.indexOf(this.current_popup_location.type)||"phone"===this.current_popup_location.type&&"invitee"===this.current_popup_location.form.who_calls})),max_char_length_500:Object(Q["maxLength"])(500)},location_extra:{max_char_length_500:Object(Q["maxLength"])(500)}}}},computed:{selected_locations:{get:function(){return this.locations},set:function(t){this.$emit("locations_value_changed",t)}},all_locations_with_stats:function(){var t,e=this.clone_deep(this.all_locations),i=Object(V["a"])(this.selected_locations);try{var a=function(){var i=t.value,a=e.findIndex((function(t){return t.type===i.type}));-1!=a&&(e[a].count++,e[a].limit>-1&&e[a].limit<=e[a].count?e[a].show=!1:e[a].show=!0)};for(i.s();!(t=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return e},all_locations_final:function(){var t=[];for(var e in this.all_locations_with_stats)this.all_locations_with_stats[e].show&&t.push(this.all_locations_with_stats[e]);return t},enable_add_new_location:function(){return this.selected_locations.length<10},location_feild_label:function(){var t="Location";return"custom"==this.current_popup_location.type?t="Enter a location of your choice":"phone"==this.current_popup_location.type&&(t="Enter your phone number"),t},popup_show_location_field:function(){var t=!1;return"physical"==this.current_popup_location.type||"custom"==this.current_popup_location.type?t=!0:"phone"==this.current_popup_location.type&&this.current_popup_location.form&&"invitee"==this.current_popup_location.form.who_calls&&(t=!0),t},location_help_txt:function(){return"phone"==this.current_popup_location.type?"Please enter phone number with country code. E.g. +1 555 555 1234":""},location_extra_help_txt:function(){return"physical"==this.current_popup_location.type||"custom"==this.current_popup_location.type?"This will be shown to the invitee AFTER the booking is confirmed.":"ask_invitee"==this.current_popup_location.type?"You can use this to guide the invitee. The text you enter here will be displayed below the location text field.":""},is_tp_service_account_added:function(){var t=this;return function(e){return"zoom_meeting"!==e&&"gotomeeting_meeting"!==e&&"googlemeet_meeting"!==e?null:!t.is_tp_locations_loaded||!!t.tp_locations.hasOwnProperty(e)&&t.tp_locations[e].is_connected}}},methods:{add_to_selected_locations:function(t){var e={};e.type=t.type,t.hasOwnProperty("form")&&t.form&&(e.form=this.clone_deep(t.form)),this.may_show_popup_form(e,"add"),this.show_add_location_list=!1},remove_from_selected_locations:function(t){this.show_add_location_list=!1,this.selected_locations.splice(t,1)},may_show_popup_form:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t=this.clone_deep(t),"add"!=e&&"edit"!=e||"edit"==e&&isNaN(i)||(this.is_having_edit_options(t)?(this.$v["current_popup_location"].$reset(),this.current_popup_location=t,this.current_popup_location_action=e,this.current_popup_location_index=i,this.current_popup_location.form&&this.current_popup_location.form.hasOwnProperty("location_extra")&&this.current_popup_location.form.location_extra&&(this.show_location_extra_field=!0),this.$modal.show("location_advance_modal"),"physical"!=this.current_popup_location.type&&"custom"!=this.current_popup_location.type||this.ref_focus("location_txt")):"add"==e?this.selected_locations.push(t):"edit"==e&&(this.selected_locations[i]=t))},save_current_popup_location:function(){var t=this.current_popup_location_action,e=this.current_popup_location_index;this.$v["current_popup_location"].$touch(),this.$v.current_popup_location.$anyError||("add"==t?this.selected_locations.push(this.current_popup_location):"edit"==t&&(this.selected_locations[e]=this.current_popup_location),this.$modal.hide("location_advance_modal"))},is_having_edit_options:function(t){return!(!t.hasOwnProperty("form")||!t.form)},reset_current_popup_location:function(){this.current_popup_location={},this.current_popup_location_action="",this.current_popup_location_index=null,this.show_location_extra_field=!1},location_advance_modal_on_before_close:function(){this.reset_current_popup_location()},get_meta_data_for_location:function(t){if(!this.is_having_edit_options(t))return this.$options.filters.location_short_descr_by_type(t.type);var e="";return"phone"===t.type&&t.form.hasOwnProperty("who_calls")&&t.form.who_calls&&(e+="admin"==t.form.who_calls?"I will call my invitee":"My invitee should call me at ","invitee"==t.form.who_calls&&t.form.hasOwnProperty("location")&&t.form.location&&(e+=t.form.location)),"phone"!==t.type&&t.form&&t.form.hasOwnProperty("location")&&t.form.location&&(e+=t.form.location),t.form&&t.form.hasOwnProperty("location_extra")&&t.form.location_extra&&(e+=" (more info)"),e||this.$options.filters.location_short_descr_by_type(t.type)},reorder_selected_locations:function(t){var e=t.detail.ids[0],i=t.detail.index,a=this.selected_locations.splice(e,1);this.selected_locations.splice(i,0,a[0])},load_tp_locations_of_current_admin:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i={},a="get_tp_locations_details_for_current_admin";i[a]="dummy__";var o={action:"wpcal_process_admin_ajax_request",wpcal_request:i},n={};e&&(n={params:{_remove_options_before_call:{background_call:!0}}}),C.a.post(window.wpcal_ajax.ajax_url,o,n).then((function(e){e.data&&e.data[a].hasOwnProperty("tp_locations")&&(t.tp_locations=e.data[a].tp_locations),t.is_tp_locations_loaded=!0})).catch((function(t){console.log(t)}))},show_delete_alert:function(t){return this.delete_alert_index===t},set_mouseover:function(t,e){this.delete_alert_index=e?t:null}},mounted:function(){var t=this;this.load_tp_locations_of_current_admin(),this.tp_locations_refresh_interval_instance=setInterval((function(){document.hasFocus()&&t.load_tp_locations_of_current_admin(!0)}),5e3)},beforeDestroy:function(){clearInterval(this.tp_locations_refresh_interval_instance)}},X=K,tt=Object(r["a"])(X,U,G,!1,null,null,null),et=tt.exports,it={name:"ServiceFormStep2",components:{ColorSelector:H,AdminLocationSelector:et},props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},create_or_update_btn_is_enabled:{},$v:{}},data:function(){return{}},methods:{auto_focus_form_element:function(){var t=this;"add"==this.view&&!this.form.name&&this.$refs.service_name&&setTimeout((function(){t.$refs.service_name.focus()}),50)}},watch:{"step.form":function(t){t&&this.auto_focus_form_element()}},mounted:function(){"add"==this.view&&(this.$props.step.summary=!0)}},at=it,ot=Object(r["a"])(at,D,L,!1,null,"4d39aae3",null),nt=ot.exports,st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.upcoming,expression:"step.upcoming"}],staticClass:"step-single upcoming"},[i("div",{staticClass:"step-title"},[t._v("Event type duration & timings")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.step.form,expression:"step.form"}],staticClass:"step-single form active",attrs:{id:"service_form_step"+t.step.id}},[i("div",{staticClass:"step-title"},[t._v("Event Type Duration & Timings")]),i("div",{staticClass:"form"},[i("form-row",{attrs:{validator:t.$v.form.duration}},[i("label",[t._v("Event duration")]),i("span",{staticClass:"txt-help pt0"},[t._v("Define how long the event will last.")]),i("InlineRadioSelector",{attrs:{element_settings:t.event_duration_element_setting,form:t.form,$v:t.$v}})],1),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.date_range_type}},[i("label",[t._v("When can this event be booked?")]),i("span",{staticClass:"txt-help pt0"},[t._v("Select a time range within which this event can be booked.")]),i("ul",{staticClass:"selector block mt10"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_availability_details.date_range_type,expression:"form.default_availability_details.date_range_type"}],attrs:{type:"radio",id:"days-into-future",name:"event-can-be-booked",value:"relative"},domProps:{checked:t._q(t.form.default_availability_details.date_range_type,"relative")},on:{change:function(e){return t.$set(t.form.default_availability_details,"date_range_type","relative")}}}),i("label",{attrs:{for:"days-into-future"}},[i("div",{staticClass:"txt-h5"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.show_relative_date_range,expression:"show_relative_date_range"}],staticStyle:{width:"50px",height:"33px","text-align":"center",margin:"-9px 7px -7px 0px"},attrs:{type:"number"},domProps:{value:t.show_relative_date_range},on:{blur:function(e){return t.$v.form.default_availability_details.date_misc.$touch()},focus:function(e){t.form.default_availability_details.date_range_type="relative"},input:function(e){e.target.composing||(t.show_relative_date_range=e.target.value)}}}),t._v("rolling days into the future ")])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_availability_details.date_range_type,expression:"form.default_availability_details.date_range_type"}],attrs:{type:"radio",id:"within-date-range",name:"event-can-be-booked",value:"from_to"},domProps:{checked:t._q(t.form.default_availability_details.date_range_type,"from_to")},on:{focus:function(e){"from_to"!==t.form.default_availability_details.date_range_type&&t.ref_click("default_availability_details_from_date_input")},change:function(e){return t.$set(t.form.default_availability_details,"date_range_type","from_to")}}}),i("label",{attrs:{for:"__unknown__"},on:{click:function(e){t.form.default_availability_details.date_range_type="from_to"}}},[i("div",{staticClass:"txt-h5"},[t._v("Within a date range")]),i("div",{staticClass:"date-range-selector cf"},[i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help"},[t._v("FROM")]),i("v-date-picker",{attrs:{popover:{visibility:"click"},masks:{input:["YYYY-MM-DD"]}},model:{value:t.default_availability_details_from_date_obj,callback:function(e){t.default_availability_details_from_date_obj=e},expression:"default_availability_details_from_date_obj"}},[i("input",{ref:"default_availability_details_from_date_input",attrs:{type:"text",readonly:"",placeholder:"M d, YYYY"},domProps:{value:t.$options.filters.wpcal_format_date_style1(t.default_availability_details_from_date)}})])],1)]),i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help"},[t._v("TO")]),i("v-date-picker",{attrs:{popover:{visibility:"click"},masks:{input:["YYYY-MM-DD"]},"min-date":t.default_availability_details_from_date_obj},model:{value:t.default_availability_details_to_date_obj,callback:function(e){t.default_availability_details_to_date_obj=e},expression:"default_availability_details_to_date_obj"}},[i("input",{ref:"default_availability_details_to_date_input",attrs:{type:"text",readonly:"",placeholder:"M d, YYYY"},domProps:{value:t.$options.filters.wpcal_format_date_style1(t.default_availability_details_to_date)}})])],1)])])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_availability_details.date_range_type,expression:"form.default_availability_details.date_range_type"}],attrs:{type:"radio",id:"indefinitely",name:"event-can-be-booked",value:"infinite"},domProps:{checked:t._q(t.form.default_availability_details.date_range_type,"infinite")},on:{change:function(e){return t.$set(t.form.default_availability_details,"date_range_type","infinite")}}}),i("label",{attrs:{for:"indefinitely"}},[i("div",{staticClass:"txt-h5"},[t._v("Indefinitely")]),i("div",{staticClass:"txt-help"},[t._v(" Invitees can book slots indefinitely into the future ")])])])]),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.date_misc}}),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.from_date}}),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.to_date}})],1),i("form-row",{attrs:{validator:t.$v.form.default_availability_details.periods}},[i("label",{staticStyle:{position:"relative"}},[t._v("Availability "),i("div",{staticClass:"on-boarding-change-avail"})]),i("div",{staticClass:"mbox"},[i("TimeRange1ToN",{attrs:{$v:t.$v.form.default_availability_details.periods},model:{value:t.form.default_availability_details.periods,callback:function(e){t.$set(t.form.default_availability_details,"periods",e)},expression:"form.default_availability_details.periods"}})],1)]),i("form-row",{attrs:{validator:t.$v.form.display_start_time_every}},[i("div",{staticClass:"txt-h5"},[t._v(" Show start times every: ")]),i("div",{staticClass:"txt-help"},[t._v(" Show your available hours in blocks of: ")]),i("InlineRadioSelector",{attrs:{element_settings:t.display_start_time_every_element_setting,form:t.form,$v:t.$v}})],1),i("a",{on:{click:function(e){t.show_advance_options=!t.show_advance_options}}},[t._v(t._s(t.show_advance_options_txt)+" Show Advanced options")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_advance_options,expression:"show_advance_options"}]},[i("ul",{staticClass:"mbox avail-advanced-options"},[i("li",[i("form-row",{attrs:{validator:t.$v.form.max_booking_per_day}},[i("div",{staticClass:"txt-h5"},[t._v(" Max bookings per day ")]),i("div",{staticClass:"txt-help",staticStyle:{"margin-bottom":"10px"}},[t._v(" Limit the number of bookings for this event type per day. Leave blank for no limit. ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.max_booking_per_day,expression:"form.max_booking_per_day"}],attrs:{type:"text",placeholder:"No limit"},domProps:{value:t.form.max_booking_per_day},on:{blur:function(e){return t.$v.form.max_booking_per_day.$touch()},input:function(e){e.target.composing||t.$set(t.form,"max_booking_per_day",e.target.value)}}})])],1),i("li",[i("div",{staticClass:"txt-h5"},[t._v(" Minimum Scheduling Notice ")]),i("div",{staticClass:"custom-radio-cont"},[i("label",{staticStyle:{"font-size":"13px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.type,expression:"form.min_schedule_notice.type"}],staticStyle:{float:"left","margin-right":"7px","margin-top":"0px"},attrs:{type:"radio",name:"minimize-gaps",value:"none"},domProps:{checked:t._q(t.form.min_schedule_notice.type,"none")},on:{change:function(e){return t.$set(t.form.min_schedule_notice,"type","none")}}}),t._v(" None ")]),i("label",{staticStyle:{"font-size":"13px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.type,expression:"form.min_schedule_notice.type"}],staticStyle:{float:"left","margin-right":"7px","margin-top":"0px","margin-bottom":"20px"},attrs:{type:"radio",name:"minimize-gaps",value:"units"},domProps:{checked:t._q(t.form.min_schedule_notice.type,"units")},on:{change:function(e){return t.$set(t.form.min_schedule_notice,"type","units")}}}),t._v(" Prevent booking of slots less than "),i("div",{staticStyle:{"padding-left":"22px","padding-top":"4px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.time_units,expression:"form.min_schedule_notice.time_units"}],staticStyle:{width:"78px",padding:"3px 5px","margin-top":"-8px","font-size":"13px"},attrs:{type:"number"},domProps:{value:t.form.min_schedule_notice.time_units},on:{focus:function(e){t.form.min_schedule_notice.type="units"},blur:function(e){return t.$v.form.min_schedule_notice.time_units.$touch()},input:function(e){e.target.composing||t.$set(t.form.min_schedule_notice,"time_units",e.target.value)}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.time_units_in,expression:"form.min_schedule_notice.time_units_in"}],staticStyle:{width:"auto","margin-top":"-3px"},on:{focus:function(e){t.form.min_schedule_notice.type="units"},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.min_schedule_notice,"time_units_in",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"mins"}},[t._v("mins")]),i("option",{attrs:{value:"hrs",selected:""}},[t._v("hrs")]),i("option",{attrs:{value:"days"}},[t._v("days")])]),t._v(" away. ")]),i("form-row",{attrs:{validator:t.$v.form.min_schedule_notice.time_units}})],1),i("label",{staticStyle:{"font-size":"13px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.type,expression:"form.min_schedule_notice.type"}],staticStyle:{float:"left","margin-right":"7px","margin-top":"5px","margin-bottom":"20px"},attrs:{type:"radio",name:"minimize-gaps",value:"time_days_before"},domProps:{checked:t._q(t.form.min_schedule_notice.type,"time_days_before")},on:{change:function(e){return t.$set(t.form.min_schedule_notice,"type","time_days_before")}}}),t._v(" Prevent all bookings after "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.days_before_time,expression:"form.min_schedule_notice.days_before_time"}],staticStyle:{width:"78px",padding:"3px 5px","margin-top":"-2px","font-size":"13px"},attrs:{type:"text",placeholder:"hh:mm am"},domProps:{value:t.form.min_schedule_notice.days_before_time},on:{focus:function(e){t.form.min_schedule_notice.type="time_days_before"},blur:function(e){return t.$v.form.min_schedule_notice.days_before_time.$touch()},input:function(e){e.target.composing||t.$set(t.form.min_schedule_notice,"days_before_time",e.target.value)}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.min_schedule_notice.days_before,expression:"form.min_schedule_notice.days_before"}],staticStyle:{width:"auto","margin-top":"-3px"},on:{focus:function(e){t.form.min_schedule_notice.type="time_days_before"},change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form.min_schedule_notice,"days_before",e.target.multiple?i:i[0])}}},t._l([0,1,2,3,4,5,6,7],(function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0),t._v(" day"+t._s(1!=t.form.min_schedule_notice.days_before?"s":"")+" before. "),i("form-row",{attrs:{validator:t.$v.form.min_schedule_notice.days_before_time}})],1)])]),i("li",[i("div",{staticClass:"txt-h5"},[t._v(" Event Buffers ")]),i("div",{staticClass:"txt-help",staticStyle:{"margin-bottom":"10px"}},[t._v(" Set aside preparation, rest or travel time before or after events. For example, if you define a 5-minute buffer before your events, we will make sure you have 5 minutes of free time before your scheduled events. ")]),i("div",{staticClass:"col-main cf"},[i("div",{staticClass:"col50"},[i("div",{staticClass:"label txt-help",staticStyle:{"padding-bottom":"5px"}},[t._v(" BEFORE EVENT ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.event_buffer_before,expression:"form.event_buffer_before"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"event_buffer_before",e.target.multiple?i:i[0])},function(e){return t.$v.form.event_buffer_before.$touch()}]}},t._l(t.event_buffer_before_element_setting.options,(function(e,a){return i("option",{key:a,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0)]),i("div",{staticClass:"col50"},[i("div",{staticClass:"label txt-help",staticStyle:{"padding-bottom":"5px"}},[t._v(" AFTER EVENT ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.event_buffer_after,expression:"form.event_buffer_after"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"event_buffer_after",e.target.multiple?i:i[0])},function(e){return t.$v.form.event_buffer_after.$touch()}]}},[t._v("> "),t._l(t.event_buffer_after_element_setting.options,(function(e,a){return i("option",{key:a,domProps:{value:e.value}},[t._v(t._s(e.text))])}))],2)])]),i("form-row",{attrs:{validator:t.$v.form.event_buffer_before}}),i("form-row",{attrs:{validator:t.$v.form.event_buffer_after}})],1)])]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"txt-help mt10",staticStyle:{"padding-bottom":"10px"}},[t._v(" You can configure your event type further after creating it. ")]),"add"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("validate_may_navigate_or_submit",3)}}},[t._v(" Create Event Type ")]):"edit"==t.view?i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.create_or_update_btn_is_enabled},on:{click:function(e){return t.$emit("submit_form",3)}}},[t._v(" Save ")]):t._e(),"edit"==t.view?i("button",{staticClass:"wpc-btn tert-link sm mt10 center",attrs:{type:"button"},on:{click:function(e){return t.$emit("edit_view_toggle_steps")}}},[t._v(" Cancel ")]):t._e()])],1)])])},_t=[],rt=(i("ac1f"),i("5319"),i("498a"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"selector inline time mt10 with-custom",class:t.element_settings.style_class},[t._l(t.element_settings.options,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form[t.element_settings.name],expression:"form[element_settings.name]"}],attrs:{type:"radio",id:"duration-"+t.element_settings.name+"-"+e.value+"-min",name:t.element_settings.name},domProps:{value:e.value,checked:t._q(t.form[t.element_settings.name],e.value)},on:{change:[function(i){return t.$set(t.form,t.element_settings.name,e.value)},t.load_custom_value]}}),i("label",{attrs:{for:"duration-"+t.element_settings.name+"-"+e.value+"-min"}},[t._v(" "+t._s(e.text)+" "),i("span",[t._v("min")])])])})),t.element_settings.custom_option?i("li",{staticClass:"custom-duration"},[i("input",{attrs:{type:"radio",name:t.element_settings.name},domProps:{checked:t.custom_checked}}),i("label",{attrs:{for:"custom-duration--"+t.element_settings.name}},[i("input",{attrs:{type:"number",id:"custom-duration--"+t.element_settings.name,placeholder:!0===t.custom_value_focus?"":"-"},domProps:{value:t.get_custom_value},on:{focus:t.custom_value_on_focus,blur:function(e){t.custom_value_focus=!1,t.$v&&t.$v.form[t.element_settings.name]&&t.$v.form[t.element_settings.name].$touch()},input:t.debounce_set_custom_value}}),i("span",[t._v("custom min")])])]):t._e()],2)])}),lt=[],ct=i("85b1"),dt=i("1c8f"),ut={name:"InlineRadioSelector",props:{element_settings:{type:Object,required:!0},form:{type:Object,required:!0},$v:{}},data:function(){return{custom_value:"",custom_value_focus:!1}},computed:{get_custom_value:function(){return isNaN(this.custom_value)?"":this.custom_value},custom_checked:function(){return""!==this.custom_value}},methods:{set_custom_value:function(t){this.custom_value=parseInt(t.target.value),this.form[this.element_settings.name]=this.custom_value,this.load_custom_value()},debounce_set_custom_value:Object(ct["a"])((function(t){this.set_custom_value(t)}),500),custom_value_on_focus:function(t){this.custom_value_focus=!0,this.set_custom_value(t)},load_custom_value:function(){-1==Object(dt["a"])(this.element_settings.options,{value:parseInt(this.form[this.element_settings.name])})?this.custom_value=this.form[this.element_settings.name]:this.custom_value=""}},created:function(){this.load_custom_value()}},pt=ut,mt=(i("aec3"),Object(r["a"])(pt,rt,lt,!1,null,"4f17b81c",null)),vt=mt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.value,(function(e,a){return i("span",{key:a},[i("div",{staticClass:"date-range-selector cf",class:{multiple:t.value.length>1,"del-alert":t.show_delete_alert(a)}},[i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help",class:{"has-error":t.$v&&t.$v.$each&&t.$v.$each.$iter[a].from_time.$dirty&&t.$v.$each.$iter[a].from_time.$error}},[t._v(" FROM ")]),i("TimePicker",{model:{value:e.from_time,callback:function(i){t.$set(e,"from_time",i)},expression:"period.from_time"}})],1)]),t.value.length>1?i("div",{staticClass:"icon-delete",on:{click:function(e){t.value.splice(a,1),t.set_mouseover(a,!1)},mouseover:function(e){return t.set_mouseover(a,!0)},mouseleave:function(e){return t.set_mouseover(a,!1)}}}):t._e(),i("div",{staticClass:"col50"},[i("div",[i("div",{staticClass:"label txt-help",class:{"has-error":t.$v&&t.$v.$each&&t.$v.$each.$iter[a].to_time.$dirty&&t.$v.$each.$iter[a].to_time.$error}},[t._v(" TO ")]),i("TimePicker",{model:{value:e.to_time,callback:function(i){t.$set(e,"to_time",i)},expression:"period.to_time"}})],1)])]),t.$v&&t.$v.$each&&t.$v.$each.$iter[a]?i("form-row",{attrs:{validator:t.$v.$each.$iter[a].from_time}}):t._e(),t.$v&&t.$v.$each&&t.$v.$each.$iter[a]?i("form-row",{attrs:{validator:t.$v.$each.$iter[a].to_time}}):t._e()],1)})),t.can_show_add_period?i("a",{staticClass:"mt5",on:{click:t.add_new_range}},[t._v("+ Add another period")]):t._e()],2)},ht=[],gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("vue-timepicker",{attrs:{format:t.time_format,"hide-clear-button":"","auto-scroll":"","advanced-keyboard":"","minute-interval":"5"},on:{change:t.handle_picker_change},model:{value:t.time_data,callback:function(e){t.time_data=e},expression:"time_data"}})],1)},bt=[],yt=(i("a15b"),i("1276"),i("b166")),wt=i("fea2"),xt={name:"TimePicker",components:{VueTimepicker:wt["a"]},model:{prop:"time",event:"time_changed"},props:{time:{type:String}},computed:{time_data:{get:function(){var t=this.time,e={HH:"",hh:"",mm:"",a:""};if(this.$store.getters.get_general_settings,t){if("::00"==t||"::"==t)return e;var i=t.split(":");i[0]=i[0]?i[0]:"00",i[1]=i[1]?i[1]:"00",i[2]=i[2]?i[2]:"00",t=i.join(":");var a=this.date_parse("2000-01-01 "+t);e={HH:Object(yt["a"])(a,"HH"),hh:Object(yt["a"])(a,"hh"),mm:Object(yt["a"])(a,"mm"),a:Object(yt["a"])(a,"a").toLocaleLowerCase()}}return e},set:function(t){}},time_format:function(){var t="HH:mm",e=this.$store.getters.get_general_settings;return e&&e.hasOwnProperty("time_format")&&"12hrs"===e.time_format&&(t="hh:mm a"),t}},methods:{handle_picker_change:function(t){var e=t.data,i=e.HH+":"+e.mm+":00";this.$emit("time_changed",i)}}},kt=xt,$t=Object(r["a"])(kt,gt,bt,!1,null,null,null),Ct=$t.exports,qt={name:"TimeRange1ToN",components:{TimePicker:Ct},props:{$v:{},value:{type:Array,required:!0},hide_add_period_on_no_periods:{default:"0"},disable_multiple:{type:Boolean,default:!1}},data:function(){return{delete_alert_index:null}},computed:{hide_add_period_on_no_periods_check:function(){return"1"==this.hide_add_period_on_no_periods&&0==this.value.length},can_show_add_period:function(){return!1===this.disable_multiple&&!this.hide_add_period_on_no_periods_check}},methods:{add_new_range:function(){var t={from_time:"",to_time:""};this.value.push(t)},show_delete_alert:function(t){return this.delete_alert_index===t},set_mouseover:function(t,e){this.delete_alert_index=e?t:null}}},St=qt,Ot=(i("4753"),Object(r["a"])(St,ft,ht,!1,null,null,null)),jt=Ot.exports,Pt={name:"ServiceFormStep3",props:{view:{type:String},step:{type:Object,required:!0},form:{type:Object,required:!0},create_or_update_btn_is_enabled:{},$v:{}},components:{InlineRadioSelector:vt,TimeRange1ToN:jt},data:function(){return{show_advance_options:!1,event_duration_element_setting:{name:"duration",options:[{value:15,text:15},{value:30,text:30},{value:45,text:45},{value:60,text:60}],custom_option:!0,style_class:[]},display_start_time_every_element_setting:{name:"display_start_time_every",options:[{value:15,text:15},{value:30,text:30},{value:45,text:45},{value:60,text:60}],custom_option:!0,style_class:[]},event_buffer_before_element_setting:{name:"event_buffer_before",options:[{value:0,text:"0 min"},{value:5,text:"5 min"},{value:10,text:"10 min"},{value:15,text:"15 min"},{value:30,text:"30 min"},{value:45,text:"45 min"},{value:60,text:"1 hr"},{value:90,text:"1 hr 30 min"},{value:120,text:"2 hr"},{value:150,text:"2 hr 30 min"},{value:180,text:"3 hr"}],selected_value:30},event_buffer_after_element_setting:{name:"event_buffer_after",options:[{value:0,text:"0 min"},{value:5,text:"5 min"},{value:10,text:"10 min"},{value:15,text:"15 min"},{value:30,text:"30 min"},{value:45,text:"45 min"},{value:60,text:"1 hr"},{value:90,text:"1 hr 30 min"},{value:120,text:"2 hr"},{value:150,text:"2 hr 30 min"},{value:180,text:"3 hr"}],selected_value:30}}},computed:{show_advance_options_txt:function(){return this.show_advance_options?"-":"+"},show_relative_date_range:{get:function(){var t=this.form.default_availability_details.date_misc;if("relative"===this.form.default_availability_details.date_range_type&&t){var e=t.replace(/^\+((\d)*)D$/gm,(function(t,e){return e}));return e}return""},set:function(t){t=t.trim(),t.length>0?this.form.default_availability_details.date_misc="+"+t+"D":this.form.default_availability_details.date_misc=""}},default_availability_details_from_date_obj:{get:function(){if(this.default_availability_details_from_date){var t=this.date_parse(this.default_availability_details_from_date);return t}return""},set:function(t){"from_to"==this.form.default_availability_details.date_range_type&&(this.form.default_availability_details.from_date=this.$options.filters.wpcal_format_std_date(t))}},default_availability_details_to_date_obj:{get:function(){if(this.default_availability_details_to_date){var t=this.date_parse(this.default_availability_details_to_date);return t}return""},set:function(t){"from_to"==this.form.default_availability_details.date_range_type&&(this.form.default_availability_details.to_date=this.$options.filters.wpcal_format_std_date(t))}},default_availability_details_from_date:{get:function(){return"from_to"==this.form.default_availability_details.date_range_type?this.form.default_availability_details.from_date:""},set:Object(ct["a"])((function(t){this.form.default_availability_details.from_date=t}),1500)},default_availability_details_to_date:{get:function(){return"from_to"==this.form.default_availability_details.date_range_type?this.form.default_availability_details.to_date:""},set:Object(ct["a"])((function(t){this.form.default_availability_details.to_date=t}),1500)}},mounted:function(){var t=this;this.$root.$on("show_advance_options",(function(){t.show_advance_options=!0}))}},Et=Pt,zt=(i("cdf9c"),Object(r["a"])(Et,st,_t,!1,null,"de23df82",null)),At=zt.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$store.getters.get_site_tz?i("div",{staticStyle:{"font-style":"italic",color:"#555d66"}},[t._v(" All timings in this page are in WP Site's "),i("a",{attrs:{href:"options-general.php#timezone_string",target:"_blank"}},[t._v("Time Zone setting ("+t._s(t.$store.getters.get_site_tz)+")")])]):t._e()},Tt=[],It={},Mt=Object(r["a"])(It,Nt,Tt,!1,null,null,null),Dt=Mt.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-cont"},[i("div",{staticClass:"col"},[t.edit_view.step2.summary?i("div",{staticClass:"mbox"},[i("div",{staticStyle:{float:"right"}},[i("a",{on:{click:function(e){return t.$emit("edit_view_toggle_steps",t.edit_view.step2)}}},[t._v("EDIT")])]),i("div",{staticClass:"txt-h4"},[t._v("Event type details")]),i("div",{staticClass:"form-step-meta"},[i("div",{staticStyle:{"font-size":"14px","padding-top":"10px"}},[t._v(" Event type name: "+t._s(t.saved_form.name)+" ")]),i("div",[t._v(" Invitee type: "+t._s(t._f("relationship_type_str")(t.saved_form.relationship_type))+" ")]),t.saved_form.locations.length?i("div",{staticStyle:{"padding-bottom":"10px",display:"flex"}},[t._v(" Location: "),i("span",{staticStyle:{display:"flex",padding:"0 5px"},domProps:{innerHTML:t._f("locations_summary")(t.saved_form.locations)}})]):t._e(),i("div",[t._v(t._s(t.saved_form.descr))]),t.saved_form.post_id?i("div",[i("a",{staticStyle:{"margin-bottom":"5px"},attrs:{href:"post.php?post="+t.saved_form.post_id+"&action=edit",target:"_blank"}},[t._v("Manage Booking Page "),i("span",{staticStyle:{"font-size":"11px","font-weight":"600",position:"absolute",margin:"2px"}},[t._v("↗")])])]):t._e(),t.saved_form.post_details.link?i("div",[i("a",{attrs:{href:t.saved_form.post_details.link+"#/booking",target:"_blank"}},[t._v("View Booking Page "),i("span",{staticStyle:{"font-size":"11px","font-weight":"600",position:"absolute",margin:"2px"}},[t._v("↗")])])]):t._e()])]):t._e(),t.edit_view.step2.form?i("ServiceFormStep2",{attrs:{$v:t.$v,view:t.view,step:{id:2,upcoming:!1,summary:!1,form:!0},form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{submit_form:function(e){return t.$emit("submit_form",e)},edit_view_toggle_steps:function(e){return t.$emit("edit_view_toggle_steps",t.edit_view.step2)}}}):t._e(),t.edit_view.step3.summary?i("div",{staticClass:"mbox"},[i("div",{staticStyle:{float:"right"}},[i("a",{on:{click:function(e){return t.$emit("edit_view_toggle_steps",t.edit_view.step3)}}},[t._v("EDIT")])]),i("div",{staticClass:"txt-h4"},[t._v("Event type duration & timings")]),i("div",{staticClass:"form-step-meta mt10"},[i("div",[t._v(" Date range: "+t._s(t.service_date_range_summary)+" ")]),i("div",[t._v("Event duration: "+t._s(t._f("mins_to_str")(t.saved_form.duration)))]),i("div",[t._v(" Available hours: "),i("div",{staticStyle:{display:"inline-grid"}},t._l(t.saved_form.default_availability_details.periods,(function(e,a){return i("div",{key:a},[t._v(" "+t._s(t._f("wpcal_format_time_only")(e.from_time,t.time_format))+" - "+t._s(t._f("wpcal_format_time_only")(e.to_time,t.time_format))+" ")])})),0)]),i("div",[t._v("Other advanced settings")])]),i("button",{staticClass:"wpc-btn secondary md mt20",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.show_service_availability_modal}},[t._v(" Set custom hours for specific days / dates ")]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"service_availability_modal",width:"950px",height:"80%",adaptive:!0},on:{"before-close":t.service_availability_modal_before_close}},[i("ServiceAvailabilityCal",{ref:"service_availability_modal_contents"})],1)],1):t._e(),t.edit_view.step3.form?i("ServiceFormStep3",{attrs:{$v:t.$v,view:t.view,step:{id:3,upcoming:!1,summary:!1,form:!0},form:t.form,create_or_update_btn_is_enabled:t.create_or_update_btn_is_enabled},on:{submit_form:function(e){return t.$emit("submit_form",e)},edit_view_toggle_steps:function(e){return t.$emit("edit_view_toggle_steps",t.edit_view.step3)}}}):t._e()],1),i("div",{staticClass:"col"},[i("div",{staticStyle:{"font-size":"16px","font-weight":"500",margin:"0px 0 10px"}},[t._v(" Additional Options ")]),i("ServiceInviteeQuestions",{on:{save_questions:function(e){return t.$emit("save_questions",e)}},model:{value:t.form.invitee_questions,callback:function(e){t.$set(t.form,"invitee_questions",e)},expression:"form.invitee_questions"}})],1),t.saved_form.name?i("AlertAdminToUpdateProfile",{attrs:{service_details:t.saved_form}}):t._e()],1)},Rt=[],Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[null!=t.events?i("vue-cal",{ref:"vuecal",staticClass:"vuecal--blue-theme",staticStyle:{"align-self":"stretch"},attrs:{"default-view":"month","hide-view-selector":"",events:t.events,"disable-views":["years","year","week","day"],time:!1,"min-date":t.cal_min_date,"max-date":t.cal_max_date,"events-on-month-view":!0,"on-event-click":t.cal_event_trigger_show_edit_date_availability},on:{"cell-click":function(e){return t.cal_cell_trigger_show_edit_date_availability("cell-click",e)},"view-change":t.process_calendar_month_move_event}}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_edit_date_availability_popup,expression:"show_edit_date_availability_popup"}],staticStyle:{"z-index":"10000",width:"360px"},attrs:{id:"edit_date_availability"}},[i("div",{staticClass:"popper_arrow",attrs:{"data-popper-arrow":""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_edit_date_availability,expression:"show_edit_date_availability"}],staticClass:"mbox bg-light shadow edit-availability"},[i("div",{staticClass:"txt-h4 bold center mb20 mt10"},[t._v("Edit Availability")]),t.current_customizing_availability_date_details&&0==t.current_customizing_availability_date_details.is_available?i("div",[i("div",{staticClass:"unavailable"},[t._v("Unavailable")]),i("button",{staticClass:"wpc-btn secondary sm mt10 center",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_day_available_use_previous_periods")}}},[t._v(" Set as available on "+t._s(t.apply_to_this_date)+" ")])]):t._e(),t.current_customizing_availability_date_details?i("TimeRange1ToN",{attrs:{hide_add_period_on_no_periods:"1"},model:{value:t.current_customizing_availability_date_details.periods,callback:function(e){t.$set(t.current_customizing_availability_date_details,"periods",e)},expression:"current_customizing_availability_date_details.periods"}}):t._e(),t.current_customizing_availability_date_details&&1==t.current_customizing_availability_date_details.is_available?i("button",{staticClass:"wpc-btn secondary sm mt10 center",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_day_unavailable")}}},[t._v(" Set as unavailable on "+t._s(t.apply_to_this_date)+" ")]):t._e(),t.current_customizing_availability_date_details&&1==t.current_customizing_availability_date_details.is_available?i("span",[i("button",{staticClass:"wpc-btn primary md mt20 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_date_only")}}},[t._v(" Apply to "+t._s(t.apply_to_this_date)+" only ")]),i("button",{staticClass:"wpc-btn primary md mt10 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("this_day_from_this_date")}}},[t._v(" Apply to all "+t._s(t.apply_to_all_days)+" from "+t._s(t.apply_from_this_date)+" ")]),i("button",{staticClass:"wpc-btn secondary-link md mt10 center",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:t.show_apply_to_multiple_dates_by_date}},[t._v(" Apply to multiple... ")])]):t._e(),i("button",{staticClass:"wpc-btn tert-link sm mt20 center",on:{click:t.close_edit_date_availability_popup_by_date}},[t._v(" Cancel ")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show_apply_to_multiple_dates,expression:"show_apply_to_multiple_dates"}],staticClass:"mbox bg-light shadow edit-availability",staticStyle:{"z-index":"10001"},attrs:{id:"apply_to_multiple_dates"}},[i("div",{staticClass:"txt-h4 center mb20 mt10"},[i("div",{staticClass:"icon-back",on:{click:t.back_to_show_edit_date_availability}}),t._v(" Apply to multiple... ")]),i("ul",{staticClass:"selector apply-multiple inline time mt10 mb10"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.popup_edit_availability_form.apply_multiple_dates_days,expression:"popup_edit_availability_form.apply_multiple_dates_days"}],attrs:{type:"radio",id:"multiple-dates",name:"apply_multiple_dates_days",value:"dates"},domProps:{checked:t._q(t.popup_edit_availability_form.apply_multiple_dates_days,"dates")},on:{change:function(e){return t.$set(t.popup_edit_availability_form,"apply_multiple_dates_days","dates")}}}),i("label",{attrs:{for:"multiple-dates"}},[t._v("dates")])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.popup_edit_availability_form.apply_multiple_dates_days,expression:"popup_edit_availability_form.apply_multiple_dates_days"}],attrs:{type:"radio",id:"repeating-days",name:"apply_multiple_dates_days",value:"days"},domProps:{checked:t._q(t.popup_edit_availability_form.apply_multiple_dates_days,"days")},on:{change:function(e){return t.$set(t.popup_edit_availability_form,"apply_multiple_dates_days","days")}}}),i("label",{attrs:{for:"repeating-days"}},[t._v("repeating days of the week")])])]),"dates"===t.popup_edit_availability_form.apply_multiple_dates_days?i("div",[i("v-date-picker",{staticStyle:{width:"100%"},attrs:{mode:"multiple","is-inline":"",value:"current_customizing_availability_date"},on:{dayclick:t.log},model:{value:t.popup_edit_availability_form.selected_dates,callback:function(e){t.$set(t.popup_edit_availability_form,"selected_dates",e)},expression:"popup_edit_availability_form.selected_dates"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dates_selected_meta_txt,expression:"dates_selected_meta_txt"}],staticStyle:{"text-align":"center","padding-top":"5px"}},[t._v(" "+t._s(t.dates_selected_meta_txt)+" selected • "),i("a",{on:{click:function(e){t.popup_edit_availability_form.selected_dates=[]}}},[t._v("Clear")])]),i("button",{staticClass:"wpc-btn primary md mt20 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("apply_to_selected_dates")}}},[t._v(" Apply ")])],1):t._e(),"days"===t.popup_edit_availability_form.apply_multiple_dates_days?i("div",[i("WeekDaysSelector",{model:{value:t.popup_edit_availability_form.apply_multiple_days,callback:function(e){t.$set(t.popup_edit_availability_form,"apply_multiple_days",e)},expression:"popup_edit_availability_form.apply_multiple_days"}}),i("button",{staticClass:"wpc-btn primary md mt20 full-width",attrs:{disabled:!t.current_date_popup_action_btns_is_enabled},on:{click:function(e){return t.update_customizes_date_availability("apply_to_selected_days")}}},[t._v(" Apply to selected day(s) from "+t._s(t.apply_from_this_date)+" ")])],1):t._e(),i("button",{staticClass:"wpc-btn tert-link sm mt20 center",on:{click:t.back_to_show_edit_date_availability}},[t._v(" Cancel ")])])]),i("div",{staticStyle:{padding:"10px","margin-top":"-35px"}},[i("SiteTimeZoneInfo")],1)],1)},Ft=[],Wt=i("53ca"),Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"selector block apply-multiple-days"},t._l(t.weekdays,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_days,expression:"selected_days"}],attrs:{type:"checkbox",id:"multiple-"+e.index,name:"apply-multiple-days"},domProps:{value:e.index,checked:Array.isArray(t.selected_days)?t._i(t.selected_days,e.index)>-1:t.selected_days},on:{change:[function(i){var a=t.selected_days,o=i.target,n=!!o.checked;if(Array.isArray(a)){var s=e.index,_=t._i(a,s);o.checked?_<0&&(t.selected_days=a.concat([s])):_>-1&&(t.selected_days=a.slice(0,_).concat(a.slice(_+1)))}else t.selected_days=n},function(e){return t.$emit("change_prop_selected_days",t.selected_days)}]}}),i("label",{attrs:{for:"multiple-"+e.index}},[t._v(t._s(e.full_day))])])})),0)])},Ht=[],Ut={model:{prop:"prop_selected_days",event:"change_prop_selected_days"},props:{prop_selected_days:{type:Array}},data:function(){return{weekdays:[{index:7,full_day:"Sunday"},{index:1,full_day:"Monday"},{index:2,full_day:"Tuesday"},{index:3,full_day:"Wednesday"},{index:4,full_day:"Thursday"},{index:5,full_day:"Friday"},{index:6,full_day:"Saturday"}],selected_days:[]}},watch:{prop_selected_days:function(t){this.selected_days=t}},mounted:function(){this.selected_days=this.prop_selected_days}},Gt=Ut,Vt=Object(r["a"])(Gt,Bt,Ht,!1,null,null,null),Zt=Vt.exports,Qt=i("7fa7"),Jt=i.n(Qt),Kt=(i("b55b"),i("39c3")),Xt=i("5c8a"),te=i("ce69"),ee={components:{VueCal:Jt.a,TimeRange1ToN:jt,WeekDaysSelector:Zt,SiteTimeZoneInfo:Dt},props:{},data:function(){return{service_availability_data:null,events:null,show_edit_date_availability_popup:!1,show_edit_date_availability:!1,show_apply_to_multiple_dates:!1,current_customizing_availability_date:null,current_customizing_availability_date_formatted:null,current_customizing_availability_date_details:null,popup_instance:null,popup_edit_availability_form:{apply_multiple_dates_days:"dates",apply_multiple_days:[],selected_dates:[]},can_load_availability_for_calendar_month_move_event:!1,current_calendar_month:{},current_date_popup_action_btns_is_enabled:!0}},computed:{cal_min_date:function(){return this.service_availability_data&&this.service_availability_data.availability_date_ranges&&this.service_availability_data.availability_date_ranges.available_from_date?this.service_availability_data.availability_date_ranges.available_from_date:""},cal_max_date:function(){return this.service_availability_data&&this.service_availability_data.availability_date_ranges&&this.service_availability_data.availability_date_ranges.available_to_date?this.service_availability_data.availability_date_ranges.available_to_date:""},apply_to_this_date:function(){return this.current_customizing_availability_date&&"function"===typeof this.current_customizing_availability_date.getMonth?Object(yt["a"])(this.current_customizing_availability_date,"d MMM"):""},apply_from_this_date:function(){return this.apply_to_this_date},apply_to_all_days:function(){return this.current_customizing_availability_date&&"function"===typeof this.current_customizing_availability_date.getMonth?Object(yt["a"])(this.current_customizing_availability_date,"EEEE")+"s":""},dates_selected_meta_txt:function(){var t=this.popup_edit_availability_form.selected_dates.length,e="";return t&&(e=t+" day"+(t>1?"s":"")),e}},mounted:function(){this.show_service_availability_cal()},methods:{show_service_availability_cal:function(){var t=this,e="edit_service_availability",i={};i[e]={service_id:this.$route.params.service_id};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){i.data[e]&&"success"==i.data[e].status&&(t.service_availability_data=i.data[e].service_availability_data,t.events=i.data[e].service_availability_data.dates_availability_for_cal,setTimeout((function(){t.$refs.vuecal&&t.$refs.vuecal.switchView("month",t.date_parse(t.cal_min_date)),t.can_load_availability_for_calendar_month_move_event=!0}),100))})).catch((function(t){console.log(t)}))},process_calendar_month_move_event:function(t){var e=Object(yt["a"])(t.startDate,"LL"),i=Object(yt["a"])(t.startDate,"yyyy");this.current_calendar_month={month:e,year:i},this.load_service_availability_by_calendar_view(this.current_calendar_month)},load_service_availability_by_calendar_view:function(t){var e=this;if(this.can_load_availability_for_calendar_month_move_event&&t&&"object"===Object(Wt["a"])(t)&&t.hasOwnProperty("month")){var i="edit_service_availability_by_month",a={};a[i]={service_id:this.$route.params.service_id,current_month_view:t};var o={action:"wpcal_process_admin_ajax_request",wpcal_request:a};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(t){e.handle_load_service_availability_by_calendar_view_response(t)})).catch((function(t){console.log(t)}))}},handle_load_service_availability_by_calendar_view_response:function(t){var e="edit_service_availability_by_month";t.data[e]&&"success"==t.data[e].status&&t.data[e].service_availability_data&&t.data[e].service_availability_data.dates_availability_for_cal&&(this.service_availability_data=t.data[e].service_availability_data,this.events=t.data[e].service_availability_data.dates_availability_for_cal)},cal_event_trigger_show_edit_date_availability:function(t,e){var i=this,a=Object(yt["a"])(t.startDate,"yyyy-MM-dd");this.current_customizing_availability_date=t.startDate,this.current_customizing_availability_date_formatted=a,setTimeout((function(){i.show_edit_date_availability_popup_by_date()}),10)},cal_cell_trigger_show_edit_date_availability:function(t,e){if(e){var i=Object(yt["a"])(e,"yyyy-MM-dd");this.current_customizing_availability_date=e,this.current_customizing_availability_date_formatted=i,this.show_edit_date_availability_popup_by_date()}},show_edit_date_availability_popup_by_date:function(){this.show_edit_date_availability_popup=!0,this.show_edit_date_availability=!0,this.show_apply_to_multiple_dates=!1,this.current_date_popup_action_btns_is_enabled=!0,this.current_customizing_availability_date_details=Object(Xt["a"])(this.service_availability_data.dates_availability[this.current_customizing_availability_date_formatted]),this.show_edit_date_availability=!0;var t=document.querySelector(".vuecal__cell.selected"),e=document.querySelector("#edit_date_availability");null!==this.popup_instance&&(this.popup_instance.destroy(),this.popup_instance=null),this.reset_popup_edit_availability_form(),this.popup_instance=Object(Kt["a"])(t,e,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,10]}}]})},show_apply_to_multiple_dates_by_date:function(){this.show_edit_date_availability=!1,this.show_apply_to_multiple_dates=!0,this.popup_instance&&this.popup_instance.update()},back_to_show_edit_date_availability:function(){this.show_edit_date_availability=!0,this.show_apply_to_multiple_dates=!1,this.popup_instance&&this.popup_instance.update()},close_edit_date_availability_popup_by_date:function(){this.show_edit_date_availability_popup=!1},update_customizes_date_availability:function(t){var e=this;this.current_date_popup_action_btns_is_enabled=!1;var i={};"this_day_unavailable"==t?(i["is_available"]=0,i["apply_to_days_or_dates"]="dates",i["dates"]=[this.current_customizing_availability_date_formatted]):"this_day_available_use_previous_periods"==t?(i["use_previous_periods"]="1",i["apply_to_days_or_dates"]="dates",i["dates"]=[this.current_customizing_availability_date_formatted]):"this_date_only"==t?(i["apply_to_days_or_dates"]="dates",i["dates"]=[this.current_customizing_availability_date_formatted]):"this_day_from_this_date"==t?(i["apply_to_days_or_dates"]="days",i["day_index_list"]=[Object(yt["a"])(this.current_customizing_availability_date,"i")],i["from_date"]=this.current_customizing_availability_date_formatted):"apply_to_selected_dates"==t?(i["apply_to_days_or_dates"]="dates",i["dates"]=Object(te["a"])(this.popup_edit_availability_form.selected_dates,this.format_date)):"apply_to_selected_days"==t&&(i["apply_to_days_or_dates"]="days",i["day_index_list"]=this.popup_edit_availability_form.apply_multiple_days,i["from_date"]=this.current_customizing_availability_date_formatted),"this_day_unavailable"!==t&&(i["is_available"]=1,i["periods"]=this.clone_deep(this.current_customizing_availability_date_details.periods));var a="customize_service_availability",o="edit_service_availability_by_month",n={};n[a]={service_id:this.$route.params.service_id,request_data:i},n[o]={service_id:this.$route.params.service_id,current_month_view:this.current_calendar_month};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:n};C.a.post(window.wpcal_ajax.ajax_url,s).then((function(t){t.data[a]&&(e.notify_single_action_result(t.data[a],{success_msg:"Settings saved.",validation_errors:{target:"",zindex:"99999"}}),"success"===t.data[a].status&&e.close_edit_date_availability_popup_by_date()),e.handle_load_service_availability_by_calendar_view_response(t)})).catch((function(t){console.log(t)})).then((function(){e.current_date_popup_action_btns_is_enabled=!0}))},reset_popup_edit_availability_form:function(){this.popup_edit_availability_form.apply_multiple_dates_days="dates",this.popup_edit_availability_form.apply_multiple_days=[],this.popup_edit_availability_form.selected_dates=[]},log:function(t){console.log(t)},format_date:function(t){return Object(yt["a"])(t,"yyyy-MM-dd")}}},ie=ee,ae=(i("b735"),i("524c"),Object(r["a"])(ie,Yt,Ft,!1,null,"87b85e32",null)),oe=ae.exports,ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"mbox"},[i("div",{staticClass:"txt-h5"},[t._v("Invitee Questions")]),i("div",{staticClass:"txt-help"},[t._v(" Invitees will be asked to fill out their full name and email to book this event. ")]),t._m(0),t._m(1),t._l(t.questions,(function(e,a){return i("div",{key:a,staticClass:"form-row invitee-question",class:{hover:t.question_mouseover_index===a},attrs:{id:"question_index_"+a},on:{mouseover:function(e){t.question_mouseover_index=a},mouseleave:function(e){t.question_mouseover_index=null}}},[i("hr"),i("div",{staticClass:"txt-h5"},[i("a",{staticClass:"edit-question-link",on:{click:function(e){return t.edit_question(a)}}},[t._v("EDIT")]),t._v(t._s(e.question)+" ")]),i("textarea",{attrs:{readonly:""}})])})),i("hr"),i("button",{staticClass:"wpc-btn secondary md",staticStyle:{width:"100%"},attrs:{type:"button",id:"add_question",disabled:!t.can_active_add_question_btn},on:{click:t.add_question}},[t._v(" Add Question ")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.can_show_edit_question_popup,expression:"can_show_edit_question_popup"}],staticStyle:{"z-index":"10000",width:"360px"},attrs:{id:"edit_question_popup"}},[i("div",{staticClass:"mbox shadow"},[i("div",{staticClass:"popper_arrow",attrs:{"data-popper-arrow":""}}),i("div",{staticClass:"txt-h5 bold",staticStyle:{display:"flex"}},[t._v(" Edit Question "),i("OnOffSlider",{attrs:{name:"current_edit_question_is_enabled",true_value:"1",false_value:"0"},model:{value:t.current_edit_question.is_enabled,callback:function(e){t.$set(t.current_edit_question,"is_enabled",e)},expression:"current_edit_question.is_enabled"}}),i("div",{staticClass:"delete",on:{click:t.delete_question}},[t._v("Delete question")])],1),i("div",{staticClass:"form-row"},[i("div",{staticClass:"txt-h5 mt20"},[t._v("Question")]),i("form-row",{attrs:{validator:t.$v.current_edit_question.question}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.current_edit_question.question,expression:"current_edit_question.question"}],domProps:{value:t.current_edit_question.question},on:{blur:function(e){return t.$v.current_edit_question.question.$touch()},input:function(e){e.target.composing||t.$set(t.current_edit_question,"question",e.target.value)}}})]),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.current_edit_question.is_required,expression:"current_edit_question.is_required"}],attrs:{type:"checkbox","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.current_edit_question.is_required)?t._i(t.current_edit_question.is_required,null)>-1:t._q(t.current_edit_question.is_required,"1")},on:{change:function(e){var i=t.current_edit_question.is_required,a=e.target,o=a.checked?"1":"0";if(Array.isArray(i)){var n=null,s=t._i(i,n);a.checked?s<0&&t.$set(t.current_edit_question,"is_required",i.concat([n])):s>-1&&t.$set(t.current_edit_question,"is_required",i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.current_edit_question,"is_required",o)}}}),t._v("Required")]),i("div",{staticClass:"txt-h5 mt20"},[t._v("Answer")]),i("textarea",{attrs:{readonly:""}}),t._v(" "),i("button",{staticClass:"wpc-btn primary md mt20 full-width",on:{click:t.save_question}},[t._v(" Done ")]),i("button",{staticClass:"wpc-btn tert-link sm mt10 center",on:{click:t.reset_current_question_and_hide_edit_question_popup}},[t._v(" Cancel ")])],1)])])])},se=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-row"},[i("div",{staticClass:"txt-h5 mt20"},[t._v("Full Name")]),i("input",{attrs:{type:"text",readonly:""}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-row"},[i("div",{staticClass:"txt-h5 mt20"},[t._v("Email")]),i("input",{attrs:{type:"text",readonly:""}})])}],_e=(i("a9e3"),i("8ba4"),{components:{OnOffSlider:k},model:{prop:"invitee_questions",event:"invitee_questions_changed"},props:{invitee_questions:{type:Object,default:function(){return{questions:[]}}}},data:function(){return{can_show_edit_question_popup:!1,edit_question_popup_instance:null,current_edit_question:{},current_edit_question_index:!1,default_question:{is_enabled:"1",is_required:"1",question:"Please share anything that will help prepare for our meeting.",answer_type:"textarea"},question_mouseover_index:null}},validations:{current_edit_question:{is_enabled:{required:Q["required"],must_be_1_or_0:J["h"]},is_required:{required:Q["required"],must_be_1_or_0:J["h"]},question:{required:Q["required"]}}},computed:{can_active_add_question_btn:function(){return!!(this.invitee_questions&&"object"===Object(Wt["a"])(this.invitee_questions)&&this.invitee_questions.hasOwnProperty("questions")&&Array.isArray(this.invitee_questions.questions))&&0==this.invitee_questions.questions.length},questions:function(){return this.invitee_questions&&"object"===Object(Wt["a"])(this.invitee_questions)&&this.invitee_questions.hasOwnProperty("questions")?this.invitee_questions.questions:[]}},methods:{add_question:function(){0==this.invitee_questions.questions.length&&(this.current_edit_question_index="new",this.current_edit_question=this.clone_deep(this.default_question),this.show_edit_question_popup())},edit_question:function(t){"object"===Object(Wt["a"])(this.invitee_questions.questions[t])&&(this.current_edit_question_index=t,this.current_edit_question=this.clone_deep(this.invitee_questions.questions[t]),this.show_edit_question_popup(t))},delete_question:function(){Number.isInteger(this.current_edit_question_index)?this.invitee_questions.questions.splice(this.current_edit_question_index,1):"new"===this.current_edit_question_index&&(this.current_edit_question={}),this.$emit("invitee_questions_changed",this.invitee_questions),this.$emit("save_questions"),this.reset_current_question_and_hide_edit_question_popup()},save_question:function(){if(this.$v.current_edit_question.$touch(),this.$v.current_edit_question.$anyError)return this.scroll_to_first_validation_error(),!1;Number.isInteger(this.current_edit_question_index)?this.invitee_questions.questions[this.current_edit_question_index]=this.current_edit_question:"new"===this.current_edit_question_index&&this.invitee_questions.questions.push(this.current_edit_question),this.$emit("invitee_questions_changed",this.invitee_questions),this.$emit("save_questions"),this.reset_current_question_and_hide_edit_question_popup()},show_edit_question_popup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="#add_question";null!==t&&(e="#question_index_"+t),this.can_show_edit_question_popup=!0;var i=document.querySelector(e),a=document.querySelector("#edit_question_popup");null!==this.edit_question_popup_instance&&(this.edit_question_popup_instance.destroy(),this.edit_question_popup_instance=null),this.edit_question_popup_instance=Object(Kt["a"])(i,a,{placement:"right",modifiers:[{name:"offset",options:{offset:[0,20]}}]})},hide_edit_question_popup:function(){this.can_show_edit_question_popup=!1},reset_current_question_and_hide_edit_question_popup:function(){this.hide_edit_question_popup(),this.current_edit_question_index=!1,this.current_edit_question={}}}}),re=_e,le=(i("fbdf"),i("59a1"),Object(r["a"])(re,ne,se,!1,null,"2d71078d",null)),ce=le.exports,de=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.is_current_admin_profile_needs_an_update?i("div",[i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"alert_admin_to_update_profile_modal",width:"600px",height:"80%",adaptive:!0}},[i("div",{staticStyle:{"text-align":"center",padding:"20px"}},[i("div",{staticStyle:{"font-size":"16px","font-weight":"500"}},[t._v(" Booking Widget Info Preview ")]),i("div",{staticClass:"gravatar-name-onboarding"},[i("img",{attrs:{src:t.admin_details.profile_picture}}),i("div",{staticClass:"display-name"},[t._v(t._s(t.admin_details.display_name))]),t.service_details.name?i("div",{staticClass:"event-type-name"},[t._v(" "+t._s(t.service_details.name)+" ")]):t._e(),t.service_details.duration?i("div",{staticClass:"event-type-duration"},[t._v(" "+t._s(t._f("mins_to_str")(t.service_details.duration))+" ")]):t._e()]),i("div",[t._v(" You can change your Display Pic by changing your "),i("a",{attrs:{href:"https://gravatar.com/emails/",target:"_blank"}},[t._v("Gravatar")]),t._v("."),i("br"),i("br"),t._v(" You can change your display name in "),i("a",{attrs:{href:"/wp-admin/user-edit.php?user_id="+t.admin_details.id,target:"_blank"}},[t._v("Your Profile")]),t._v(" page"),i("br"),t._v('in the "Display name publicly as" option. ')]),i("button",{on:{click:t.dismiss_notice}},[t._v("Okay")])])]),i("a",{staticStyle:{display:"none"},on:{click:t.check_and_show_alert_to_admin}},[t._v("Lorem ipsum... Admin profile check")])],1):t._e()},ue=[],pe={props:{service_details:{}},computed:{is_current_admin_profile_needs_an_update:function(){if(this._isEmpty(this.admin_details))return!1;var t=this.admin_details;if(!t.id)return!1;if(t.username!=t.display_name)return!1;var e=this.$store.getters.get_current_admin_notices;return null!=e&&((!e.hasOwnProperty("alert_admin_to_update_profile_for_name")||!e.alert_admin_to_update_profile_for_name.hasOwnProperty("status")||"dismissed"!=e.alert_admin_to_update_profile_for_name.status)&&t.username==t.display_name)},admin_details:function(){return this.$store.getters.get_current_admin_details}},methods:{show_alert_admin_to_update_profile_modal:function(){this.$modal.show("alert_admin_to_update_profile_modal")},check_and_show_alert_to_admin:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("get_settings_and_defaults",{background_call:!0});case 2:t.is_current_admin_profile_needs_an_update&&t.show_alert_admin_to_update_profile_modal();case 3:case"end":return e.stop()}}),e)})))()},dismiss_notice:function(){var t=this;this.$modal.hide("alert_admin_to_update_profile_modal");var e={},i="update_admin_notices";e[i]={alert_admin_to_update_profile_for_name:{status:"dismissed"}};var a="get_admin_notices";e[a]="dummy__";var o={action:"wpcal_process_admin_ajax_request",wpcal_request:e};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:"Successfully dismissed."}),"success"===e.data[a].status&&e.data[a].hasOwnProperty("current_admin_notices")&&t.$store.commit("set_store_by_obj",{current_admin_notices:e.data[a].current_admin_notices})})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;setTimeout((function(){return t.check_and_show_alert_to_admin()}),1e3)}},me=pe,ve=(i("d5a7"),Object(r["a"])(me,de,ue,!1,null,"55487ad6",null)),fe=ve.exports,he={components:{ServiceFormStep2:nt,ServiceFormStep3:At,ServiceAvailabilityCal:oe,ServiceInviteeQuestions:ce,AlertAdminToUpdateProfile:fe},props:{view:{type:String},edit_view:{type:Object},form:{type:Object,required:!0},saved_form:{type:Object},create_or_update_btn_is_enabled:{},$v:{}},computed:{service_date_range_summary:function(){var t=this.saved_form.default_availability_details;if("relative"===t.date_range_type){var e=t.date_misc,i=e.replace(/^\+((\d)*)D$/gm,(function(t,e){return e}));return i+" rolling days into the future"}if("from_to"==t.date_range_type){var a=this.$options.filters.wpcal_format_std_date(t.from_date),o=this.$options.filters.wpcal_format_std_date(t.to_date);return"From "+a+" to "+o}return"infinite"==t.date_range_type?"Indefinitely":""}},methods:{show_service_availability_modal:function(){this.$modal.show("service_availability_modal")},service_availability_modal_before_close:function(t){var e=this.$refs.service_availability_modal_contents;e.show_edit_date_availability_popup&&(e.close_edit_date_availability_popup_by_date(),t.stop())}}},ge=he,be=(i("c96a"),Object(r["a"])(ge,Lt,Rt,!1,null,"b3315a4c",null)),ye=be.exports,we=i("32e8"),xe={name:"ServiceForm",props:{msg:String},components:{ServiceFormStep1:M,ServiceFormStep2:nt,ServiceFormStep3:At,ServiceFormEditView:ye,SiteTimeZoneInfo:Dt},data:function(){return{view:"",service_id:null,form:{name:"",status:"",locations:[],descr:"",post_id:"",color:"",relationship_type:"",duration:"30",display_start_time_every:"15",max_booking_per_day:"",min_schedule_notice:{type:"units",time_units:"4",time_units_in:"hrs",days_before_time:"23:59:59",days_before:1},event_buffer_before:0,event_buffer_after:0,invitee_questions:{questions:[]},default_availability_details:{date_range_type:"relative",from_date:"",to_date:"",date_misc:"+60D",periods:[]},post_details:{status:"",link:""}},saved_form:this.clone_deep(this.form),tabs_flow:{active_step_id:1,steps:[{id:1,form:!0,summary:!1,upcoming:!1},{id:2,form:!1,summary:!1,upcoming:!0},{id:3,form:!1,summary:!1,upcoming:!0}]},edit_view:{step2:{id:2,summary:!0,form:!1},step3:{id:3,summary:!0,form:!1}},create_or_update_btn_is_enabled:!0,skip_leaving_warining:!1,service_name_last_saved:""}},validations:{form:{name:{required:Q["required"]},color:{required:Q["required"]},relationship_type:{required:Q["required"]},duration:{required:Q["required"],integer:Q["integer"],between_duration:Object(Q["between"])(1,1440)},display_start_time_every:{required:Q["required"],integer:Q["integer"],between_display_start_time_every:Object(Q["between"])(1,1440)},max_booking_per_day:{integer:Q["integer"],between_max_booking_per_day:Object(Q["between"])(1,1440)},min_schedule_notice:{time_units:{integer:Q["integer"],required:Object(Q["requiredIf"])((function(){return"units"===this.form.min_schedule_notice.type}))},days_before_time:{valid_time:J["l"],required:Object(Q["requiredIf"])((function(){return"time_days_before"===this.form.min_schedule_notice.type}))}},event_buffer_before:{integer:Q["integer"],between_event_buffer_before:Object(Q["between"])(0,300)},event_buffer_after:{integer:Q["integer"],between_event_buffer_before:Object(Q["between"])(0,300)},default_availability_details:{date_range_type:{required:Q["required"]},date_misc:{required:Object(Q["requiredIf"])((function(){return"relative"===this.form.default_availability_details.date_range_type}))},from_date:{required:Object(Q["requiredIf"])((function(){return"from_to"===this.form.default_availability_details.date_range_type})),valid_date:J["k"]},to_date:{required:Object(Q["requiredIf"])((function(){return"from_to"===this.form.default_availability_details.date_range_type})),valid_date:J["k"],min_date:Object(J["f"])("from_date")},periods:{required:Q["required"],minLength:Object(Q["minLength"])(1),check_periods_collide:J["a"],$each:{from_time:{required:Q["required"],valid_time:J["l"]},to_time:{required:Q["required"],valid_time:J["l"],min_time:Object(J["g"])("from_time")}}}}},step1:["form.relationship_type"],step2:["form.name","form.color"],step3:["form.duration","form.display_start_time_every","form.max_booking_per_day","form.min_schedule_notice.time_units","form.min_schedule_notice.days_before_time","form.event_buffer_before","form.event_buffer_after","form.default_availability_details.date_range_type","form.default_availability_details.date_misc","form.default_availability_details.from_date","form.default_availability_details.to_date","form.default_availability_details.periods"],step3_advance_options:["form.max_booking_per_day","form.min_schedule_notice.time_units","form.min_schedule_notice.days_before_time","form.event_buffer_before","form.event_buffer_after"]},computed:{page_title:function(){var t="Create New Event Type";return"service_edit"==this.$route.name&&(t="Event Type - "+this.saved_form.name),t},document_title:function(){var t,e="Create New Event Type";"service_edit"==this.$route.name&&(e="",(null===(t=this.saved_form)||void 0===t?void 0:t.name)&&(e=this.saved_form.name+" ‹ "),e+="Event Type");return e}},methods:{set_active_step:function(t){this.tabs_flow.active_step_id=t},toggle_steps:function(){for(var t in this.tabs_flow.steps)this.tabs_flow.active_step_id==this.tabs_flow.steps[t].id?(this.tabs_flow.steps[t].form=!0,this.tabs_flow.steps[t].summary=!1,this.tabs_flow.steps[t].upcoming=!1):this.tabs_flow.active_step_id<this.tabs_flow.steps[t].id?(this.tabs_flow.steps[t].form=!1,this.tabs_flow.steps[t].summary=!1,this.tabs_flow.steps[t].upcoming=!0):this.tabs_flow.active_step_id>this.tabs_flow.steps[t].id&&(this.tabs_flow.steps[t].form=!1,this.tabs_flow.steps[t].summary=!0,this.tabs_flow.steps[t].upcoming=!1)},edit_view_toggle_steps:function(t){if(t.form)this.is_form_dirty()&&(this.form=this.clone_deep(this.saved_form));else{var e=2==t.id?3:2;if(this.edit_view["step"+e].form){if(this.is_form_dirty()){if(!this.confirm_leave(!0))return;this.form=this.clone_deep(this.saved_form)}this.edit_view["step"+e].form=!1,this.edit_view["step"+e].summary=!0,this.$v["step"+e].$reset()}}t.summary=!t.summary,t.form=!t.form,this.$v["step"+t.id].$reset(),t.form&&this.scroll_to_if_not_in_view_port("#service_form_step"+t.id)},set_active_step_and_toggle:function(t){this.set_active_step(t),this.toggle_steps()},edit_view_form_submit:function(){this.form_submit()},edit_view_reset:function(){this.edit_view.step2.summary=!0,this.edit_view.step2.form=!1,this.edit_view.step3.summary=!0,this.edit_view.step3.form=!1},validate_may_navigate_or_submit:function(t){if("add"==this.view){if(1==t||2==t||3==t)if(this.$v["step"+t].$touch(),3==t&&this.$v.step3_advance_options.$anyError&&this.$root.$emit("show_advance_options"),this.$v["step"+t].$anyError)this.scroll_to_first_validation_error();else if(1==t||2==t){var e=t+1;this.set_active_step_and_toggle(e)}else 3==t&&this.form_submit()}else"edit"==this.view&&(2!=t&&3!=t||(this.$v["step"+t].$touch(),3==t&&this.$v.step3_advance_options.$anyError&&this.$root.$emit("show_advance_options"),this.$v["step"+t].$anyError?this.scroll_to_first_validation_error():this.edit_view_form_submit()))},load_page:function(){"service_add"==this.$route.name?this.load_add_page():"service_edit"==this.$route.name&&this.load_edit_page()},load_add_page:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object.assign(t.$data,t.$options.data.apply(t)),t.view="add",i=t.$store.getters.get_general_settings,i.hasOwnProperty("working_hours")&&(t.form.default_availability_details.periods.push(i.working_hours),t.saved_form=t.clone_deep(t.form));case 4:case"end":return e.stop()}}),e)})))()},load_edit_page:function(){var t=this;Object.assign(this.$data,this.$options.data.apply(this)),this.view="edit",this.service_id=this.$route.params.service_id;var e="edit_service",i={};i[e]={service_id:this.service_id};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){i.data&&i.data[e].hasOwnProperty("service_data")&&(t.form=i.data[e].service_data,t.saved_form=t.clone_deep(t.form))})).catch((function(t){console.log(t)}))},form_submit:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var i,a,o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.create_or_update_btn_is_enabled=!1,"service_add"==t.$route.name?i="add_service":"service_edit"==t.$route.name&&(i="update_service"),a=t.clone_deep(t.form),a.hasOwnProperty("invitee_questions")&&a.invitee_questions.hasOwnProperty("questions")&&0===a.invitee_questions.questions.length&&(a.invitee_questions["__questions_count"]=0),o={},o[i]={service_id:t.service_id,service_data:a},n="edit_service","service_edit"==t.$route.name&&(o[n]={service_id:t.service_id},t.log_service_name_last_saved()),s={action:"wpcal_process_admin_ajax_request",wpcal_request:o},e.next=11,C.a.post(window.wpcal_ajax.ajax_url,s).then((function(e){var a="Event type updated successfully.";if("add_service"===i&&(a="Event type added successfully."),t.notify_single_action_result(e.data[i],{success_msg:a}),"service_add"==t.$route.name&&e.data&&"success"==e.data[i].status&&e.data[i].hasOwnProperty("service_id")){t.skip_leaving_warining=!0;var o=e.data[i].service_id;t.$router.push("/event-type/edit/"+o)}"service_edit"==t.$route.name&&e.data&&"success"===e.data[i].status&&t.edit_view_reset(),e.data&&e.data.hasOwnProperty(n)&&e.data[n].hasOwnProperty("service_data")&&(t.form=e.data[n].service_data,t.saved_form=t.clone_deep(t.form),t.may_alert_to_update_booking_page_on_service_name_change())})).catch((function(t){console.log(t)})).then((function(){t.create_or_update_btn_is_enabled=!0}));case 11:case"end":return e.stop()}}),e)})))()},is_form_dirty:function(){var t=Object(we["a"])(this.form,this.saved_form);return!t},on_before_unload:function(t){this.is_form_dirty()&&!this.confirm_leave()&&(t.preventDefault(),t.returnValue="")},confirm_leave:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="Hey wait! You have unsaved changes. \nClick Ok to discard your changes and leave, or \nclick Cancel to stay in this page.";return t&&(e="Hey wait! You have unsaved changes. \nClick Ok to discard your changes and continue, or \nclick Cancel to stay in this section."),window.confirm(e)},log_service_name_last_saved:function(){"edit"==this.view&&(this.service_name_last_saved=this.saved_form.name)},may_alert_to_update_booking_page_on_service_name_change:function(){"edit"==this.view&&this.service_name_last_saved!=this.saved_form.name&&this.$modal.show("dialog",{title:"The new Event Type Name has been saved!",text:'Please note that this will not change the booking page title. If you want to change that, you can do so here - <a style="font-size:14px;" href="post.php?post='+this.saved_form.post_id+'&action=edit" target="_blank">Manage Booking Page <span style="font-size:11px; font-weight:600; position: absolute; margin: 2px;">&nearr;</span></a>',buttons:[{title:"Ok",default:!0}]})}},created:function(){this.load_page(),window.addEventListener("beforeunload",this.on_before_unload)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.on_before_unload)},mounted:function(){this.toggle_steps()},watch:{"$route.name":function(){this.load_page()},document_title:function(){this.$store.dispatch("set_document_title",this.document_title)}},beforeRouteLeave:function(t,e,i){this.skip_leaving_warining||!this.is_form_dirty()||this.confirm_leave()?i():i(!1)}},ke=xe,$e=Object(r["a"])(ke,P,E,!1,null,null,null),Ce=$e.exports,qe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - My Bookings")]),i("AdminHeaderRight")],1),i("div",{staticClass:"se-cont"},[i("ul",{staticClass:"se-nav"},[i("li",{class:{active:t.tabs_view.upcoming},on:{click:function(e){return t.switch_tabs("upcoming")}}},[t._v(" UPCOMING ")]),i("li",{class:{active:t.tabs_view.past},on:{click:function(e){return t.switch_tabs("past")}}},[t._v(" PAST ")])]),t.tabs_view.upcoming?i("div",[i("ServiceBookingList",{attrs:{booking_list_type:"upcoming",booking_details:t.upcoming_bookings},on:{load_more:function(e){return t.load_more(e)},remove_booking:function(e){return t.remove_booking(e)}}})],1):t._e(),t.tabs_view.past?i("div",[i("ServiceBookingList",{attrs:{booking_list_type:"past",booking_details:t.past_bookings},on:{load_more:function(e){return t.load_more(e)}}})],1):t._e()]),i("TimeZoneSelector")],1)])},Se=[],Oe=(i("99af"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0==t.booking_details.bookings.length&&t.booking_details.eol?i("div",{staticClass:"empty-booking-cont"},["upcoming"==t.booking_list_type?i("span",[t._v("You have no Upcoming bookings. Time to chill...")]):t._e(),"past"==t.booking_list_type?i("span",[t._v("There are no past bookings.")]):t._e()]):t._e(),i("div",{staticClass:"all-days-cont"},[t._l(t.booking_details_for_view,(function(e,a){return i("div",{key:a,staticClass:"day-cont"},[i("div",{staticClass:"date-cont"},[t._v(" "+t._s(t._f("wpcal_unix_to_sw_sm_sd_if_fy")(e.group_date,t.tz))),i("br"),i("span",[t._v(t._s(t._f("wpcal_unix_to_relative_day")(e.group_date,t.tz)))])]),i("div",{staticClass:"events-cont"},t._l(e.bookings,(function(e,a){var o;return i("div",{key:a,staticClass:"single-event-cont",class:(o={expanded:t.is_booking_expanded(e.id)},o["clr-"+e.service_details.color]=!0,o)},[i("div",{staticClass:"event-summary"},[i("div",{staticClass:"event-slot"},[i("span",{attrs:{title:t.$options.filters.wpcal_unix_to_time(e.booking_from_time,t.tz,t.time_format)+" "+t.$options.filters.wpcal_unix_to_sw_sm_sd_if_fy(e.booking_from_time,t.tz)}},[t._v(t._s(t._f("wpcal_unix_to_time")(e.booking_from_time,t.tz,t.time_format)))]),t._v(" - "),i("span",{attrs:{title:t.$options.filters.wpcal_unix_to_time(e.booking_to_time,t.tz,t.time_format)+" "+t.$options.filters.wpcal_unix_to_sw_sm_sd_if_fy(e.booking_to_time,t.tz)}},[t._v(t._s(t._f("wpcal_unix_to_time")(e.booking_to_time,t.tz,t.time_format)))])]),i("div",{staticClass:"event-invitee-type"},[i("span",{staticStyle:{"font-weight":"500"}},[t._v(" "+t._s(e.invitee_name))]),t._v(" with you."),i("br"),t._v(" Event Type: "),i("span",{staticStyle:{"font-weight":"500"}},[t._v(t._s(e.service_details.name))])]),i("div",{staticClass:"show-link"},[i("a",{on:{click:function(i){return t.toggle_expand_booking(e.id)}}},[t._v(" DETAILS")]),i("br"),i("span",{staticClass:"created-date"},[t._v("created "+t._s(t._f("wpcal_unix_to_sm_sd_if_fy")(e.updated_ts,t.tz)))])])]),i("div",{staticClass:"event-detailed"},[i("div",{staticClass:"actions-cont"},["upcoming"===t.booking_list_type?i("div",[i("a",{staticClass:"btn reschedule",on:{click:function(i){return t.show_service_booking_modal(e)}}},[t._v("Reschedule")]),i("a",{staticClass:"btn cancel",on:{click:function(i){return t.show_cancel_confirmation(e)}}},[t._v("Cancel")])]):t._e(),i("a",{attrs:{href:"#/event-type/edit/"+e.service_id,target:"_blank"}},[t._v("Edit Event Type")]),i("br"),i("a",{on:{click:function(i){return t.show_service_booking_modal_for_schedule_invitee_again(e)}}},[t._v("Schedule Invitee Again")])]),i("div",{staticClass:"event-meta"},[i("div",[i("span",{staticStyle:{color:"#7c7d9c","font-size":"13px"}},[t._v("NAME")]),i("br"),t._v(t._s(e.invitee_name)+" ")]),i("div",[i("span",{staticStyle:{color:"#7c7d9c","font-size":"13px"}},[t._v("EMAIL")]),i("br"),t._v(t._s(e.invitee_email)+" ")]),i("div",{staticStyle:{"padding-right":"10px","box-sizing":"border-box"}},[i("span",{staticStyle:{color:"#7c7d9c","font-size":"13px"}},[t._v("LOCATION")]),i("br"),i("LocationAdvanced",{attrs:{type:"display_user_after_booking_location",location_details:e.location,booking_details:e}})],1),i("div",[i("span",{staticStyle:{color:"#7c7d9c","font-size":"13px"}},[t._v("INVITEE TIME ZONE")]),i("br"),t._v(t._s(e.invitee_tz)+" ")])]),i("div",{staticClass:"event-survey"},t._l(e.invitee_question_answers,(function(e,a){return i("div",{key:a,staticClass:"form-row"},[i("div",{staticClass:"txt-h5 mb10 bold"},[t._v(t._s(e.question))]),i("div",[i("pre",[t._v(t._s(e.answer))])])])})),0)])])})),0)])})),t.booking_details.eol?t._e():i("div",{staticStyle:{width:"100%","text-align":"center",cursor:"pointer"},on:{click:function(e){return t.$emit("load_more",t.booking_list_type)}}},[t._v(" Load more ")])],2),i("v-dialog"),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"service_booking_modal",width:"1200px",height:"auto",scrollable:!0,adaptive:!0},on:{closed:function(e){t.reschedule_booking={}}}},[t.reschedule_booking.hasOwnProperty("id")?i("Booking",{attrs:{admin_end_booking_type:"reschedule",admin_end_service_id:t.reschedule_booking.service_id,admin_end_old_booking_unique_link:t.reschedule_booking.unique_link},on:{booking_rescheduled:function(e){return t.handle_rescheduled_booking(e)}}}):t.schedule_invitee_again.hasOwnProperty("id")?i("Booking",{attrs:{admin_end_booking_type:"new",admin_end_service_id:t.schedule_invitee_again.service_id,admin_end_old_booking_unique_link:t.schedule_invitee_again.unique_link,admin_end_is_schedule_invitee_again:!0},on:{booking_added:function(e){return t.handle_schedule_invitee_again_booking(e)}}}):t._e()],1)],1)}),je=[],Pe=i("eb8b"),Ee=i("2f7b"),ze=i("d66c"),Ae={components:{Booking:Pe["a"],LocationAdvanced:Ee["a"]},props:{booking_list_type:{type:String,required:!0},booking_details:{type:Object}},data:function(){return{expanded_bookings:[],reschedule_booking:{},schedule_invitee_again:{}}},computed:{booking_details_for_view:function(){var t,e=[],i=Object(V["a"])(this.booking_details.bookings);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=this.$options.filters.wpcal_unix_to_unix_only_date(a.booking_from_time,this.tz),n=Object(dt["a"])(e,{group_date:o});-1==n&&(n=e.length,e[n]={group_date:o,bookings:[]}),e[n]["bookings"].push(a)}}catch(l){i.e(l)}finally{i.f()}if("past"===this.booking_list_type){var s,_=Object(V["a"])(e);try{for(_.s();!(s=_.n()).done;){var r=s.value;r.bookings=Object(ze["a"])(r.bookings,["booking_from_time"])}}catch(l){_.e(l)}finally{_.f()}}return e}},methods:{is_booking_expanded:function(t){return-1!==this.expanded_bookings.indexOf(t)},toggle_expand_booking:function(t){if(this.is_booking_expanded(t)){var e=this.expanded_bookings.indexOf(t);this.expanded_bookings.splice(e,1)}else this.expanded_bookings.push(t)},show_cancel_confirmation:function(t){var e=this;console.log("show confirm?");var i="Are you sure you want to Cancel this Booking?<br><br>At ";i+=this.$options.filters.wpcal_unix_to_from_to_time_full_date_day_tz(t.booking_from_time,t.booking_to_time,this.tz,this.time_format),i+="<br>with "+t.invitee_name+" ("+t.invitee_email+")",this.$modal.show("dialog",{title:"Alert!",text:i,buttons:[{title:"Yes, Cancel the booking",handler:function(){e.cancel_booking(t),e.$modal.hide("dialog")}},{title:"No",default:!0}]})},cancel_booking:function(t){var e=this,i={},a="cancel_booking";i[a]={booking_id:t.id};var o={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(i){"success"==i.data[a].status&&(e.$emit("remove_booking",{booking_id:t.id,booking_list_type:e.booking_list_type}),e.$modal.hide("dialog"))})).catch((function(t){console.log(t)})).then((function(){e.$store.dispatch("run_booking_background_tasks_by_unique_link",{unique_link:t.unique_link})}))},show_service_booking_modal:function(t){this.reschedule_booking=this.clone_deep(t),this.$modal.show("service_booking_modal")},handle_rescheduled_booking:function(t){this.reschedule_booking={},this.$emit("remove_booking",{booking_unique_link:t.old_booking.unique_link,booking_list_type:this.booking_list_type}),this.$modal.hide("service_booking_modal"),this.show_rescheduled_information(t)},show_rescheduled_information:function(t){var e="<div>Booking successfully rescheduled.</div>";this.$modal.show("dialog",{title:"Booking Rescheduled",text:e,buttons:[{title:"Ok",default:!0}],width:"610px"})},show_service_booking_modal_for_schedule_invitee_again:function(t){this.schedule_invitee_again=this.clone_deep(t),this.$modal.show("service_booking_modal")},handle_schedule_invitee_again_booking:function(){this.schedule_invitee_again={},this.$modal.hide("service_booking_modal"),this.$modal.show("dialog",{title:"Info",text:"Booking added."})}}},Ne=Ae,Te=(i("71d0"),Object(r["a"])(Ne,Oe,je,!1,null,"7808781b",null)),Ie=Te.exports,Me=i("e268"),De={components:{ServiceBookingList:Ie,TimeZoneSelector:Me["a"]},data:function(){return{document_title:"My Bookings",view_base_timing:Object(yt["a"])(new Date,"t"),upcoming_bookings:{page:-1,eol:!1,bookings:[]},past_bookings:{page:-1,eol:!1,bookings:[]},tabs_view:{upcoming:!0,past:!1}}},methods:{switch_tabs:function(t){"upcoming"===t?(this.tabs_view.upcoming=!0,this.tabs_view.past=!1):"past"===t&&(this.tabs_view.upcoming=!1,this.tabs_view.past=!0,-1==this.past_bookings.page&&0==this.past_bookings.eol&&(this["past_bookings"].page=0,this.get_bookings("past")))},load_more:function(t){"upcoming"!==t&&"past"!==t||this[t+"_bookings"].eol||(this[t+"_bookings"].page++,this.get_bookings(t))},load_bookings_page:function(){this["upcoming_bookings"].page=0,this.get_bookings("upcoming")},get_bookings:function(t){var e=this;if("upcoming"!==t&&"past"!==t)return!1;var i={},a="get_"+t+"_bookings",o=t+"_bookings",n={view_base_timing:this.view_base_timing,page:this[o].page};i[a]={options:n};var s={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,s).then((function(t){t.data&&t.data[a].hasOwnProperty("bookings_data")&&(e[o].bookings=e[o].bookings.concat(t.data[a].bookings_data.bookings),e[o].page=t.data[a].bookings_data.page,e[o].eol=t.data[a].bookings_data.eol)})).catch((function(t){console.log(t)}))},set_view_base_timing:function(){this.view_base_timing=Object(yt["a"])(new Date,"t")},remove_booking:function(t){if("upcoming"!==t.booking_list_type)return!1;var e;if(t.hasOwnProperty("booking_id")){var i=t.booking_id;e=this.upcoming_bookings.bookings.findIndex((function(t){return t.id==i}))}else if(t.hasOwnProperty("booking_unique_link")){var a=t.booking_unique_link;e=this.upcoming_bookings.bookings.findIndex((function(t){return t.unique_link==a}))}-1!==e&&this.upcoming_bookings.bookings.splice(e,1)}},mounted:function(){this.set_view_base_timing(),this.load_bookings_page()}},Le=De,Re=(i("59fb"),Object(r["a"])(Le,qe,Se,!1,null,null,null)),Ye=Re.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Settings")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"validation_errors_cont"}),i("form-row",{attrs:{validator:t.$v.form.working_hours}},[i("label",[t._v("Working Hours")]),i("TimeRange1ToN",{attrs:{disable_multiple:!0},model:{value:t.working_hours,callback:function(e){t.working_hours=e},expression:"working_hours"}})],1),i("form-row",{attrs:{validator:t.$v.form.working_hours.from_time}}),i("form-row",{attrs:{validator:t.$v.form.working_hours.to_time}}),i("form-row",{attrs:{validator:t.$v.form.working_days}},[i("label",[t._v("Working Days")]),i("WeekDaysSelector",{model:{value:t.form.working_days,callback:function(e){t.$set(t.form,"working_days",e)},expression:"form.working_days"}})],1),i("form-row",{attrs:{validator:t.$v.form.time_format}},[i("label",[t._v("Time Format")]),i("ul",{staticClass:"selector inline time"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.time_format,expression:"form.time_format"}],attrs:{type:"radio",id:"time-format-12h",name:"time-format",value:"12hrs"},domProps:{checked:t._q(t.form.time_format,"12hrs")},on:{blur:function(e){return t.$v.form.time_format.$touch()},change:function(e){return t.$set(t.form,"time_format","12hrs")}}}),i("label",{attrs:{for:"time-format-12h"}},[t._v(" 12 "),i("span",[t._v("hrs")])])]),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.time_format,expression:"form.time_format"}],attrs:{type:"radio",id:"time-format-24h",name:"time-format",value:"24hrs"},domProps:{checked:t._q(t.form.time_format,"24hrs")},on:{blur:function(e){return t.$v.form.time_format.$touch()},change:function(e){return t.$set(t.form,"time_format","24hrs")}}}),i("label",{attrs:{for:"time-format-24h"}},[t._v(" 24 "),i("span",[t._v("hrs")])])])])]),i("div",{staticClass:"form-row"},[i("button",{staticClass:"wpc-btn primary lg mt20",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:t.form_submit}},[t._v(" Save ")])])],1)])])],1),i("SiteTimeZoneInfo")],1)},We=[],Be=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/settings"}},[t._v("General")]),t._v(" • "),i("router-link",{attrs:{to:"/settings/calendars"}},[t._v("Calendars")]),t._v(" • "),i("router-link",{attrs:{to:"/settings/integrations"}},[t._v("Integrations")]),t._v(" • "),i("router-link",{attrs:{to:"/settings/admins"}},[t._v("Admins")]),t._v(" • "),i("router-link",{attrs:{to:"/settings/account"}},[t._v("Account")])],1)},He=[],Ue={},Ge=Object(r["a"])(Ue,Be,He,!1,null,null,null),Ve=Ge.exports,Ze={components:{SettingsMenu:Ve,TimeRange1ToN:jt,WeekDaysSelector:Zt,SiteTimeZoneInfo:Dt},data:function(){return{document_title:"General ‹ Settings",working_hours_array_:[]}},validations:{form:{working_hours:{from_time:{required:Q["required"],valid_time:J["l"]},to_time:{required:Q["required"],valid_time:J["l"],min_time:Object(J["g"])("from_time")}},working_days:{subset_working_days:Object(J["i"])([1,2,3,4,5,6,7])},time_format:{required:Q["required"],time_format_in_array:Object(J["d"])(["12hrs","24hrs"])}}},computed:{working_hours:function(){return this.$set(this.working_hours_array_,0,this.form.working_hours),this.working_hours_array_},form:function(){return this.clone_deep(this.$store.getters.get_general_settings)}},methods:{load_page:function(){},form_submit:function(){var t=this;if(this.$v.form.$touch(),this.$v.form.$anyError)return this.scroll_to_first_validation_error(),!1;var e="update_general_settings",i={};i[e]={general_settings:this.form};var a="get_general_settings";i[a]={dummy__:""};var o={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(i){if(t.notify_single_action_result(i.data[e],{success_msg:"Settings saved."}),i.data&&i.data[a].hasOwnProperty("general_settings")){var o=i.data[a].general_settings;t.$store.commit("set_general_settings",o)}})).catch((function(t){console.log(t)}))}},created:function(){this.load_page()}},Qe=Ze,Je=Object(r["a"])(Qe,Fe,We,!1,null,null,null),Ke=Je.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Settings")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("label",[t._v("My calendar accounts")]),i("div",{staticClass:"mbox cal-accs"},[i("div",{staticClass:"connected-accounts-cont"},t._l(t.calendar_accounts,(function(e,a){var o;return i("div",{key:a,staticClass:"connected-account",class:(o={},o[e.provider]=!0,o["del-alert"]=t.show_delete_highlight("disconnect_highlight_calendar_account_index",a),o)},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("calendar_provider_name")(e.provider))+" "),i("a",{staticStyle:{color:"#e84653",float:"right"},on:{click:function(i){return t.show_disconnect_confirmation(e)},mouseover:function(e){return t.set_mouseover_on_delete("disconnect_highlight_calendar_account_index",a,!0)},mouseleave:function(e){return t.set_mouseover_on_delete("disconnect_highlight_calendar_account_index",a,!1)}}},[t._v("Disconnect")])]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(e.account_email)+" ")])])})),0),t.show_add_calandar_account_list?t._e():i("button",{staticClass:"wpc-btn secondary md full-width",on:{click:function(e){t.show_add_calandar_account_list=!0}}},[t._v(" + Add Calendar Account ")]),t.show_add_calandar_account_list?i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v("Select your calendar account")]),i("ul",{staticClass:"selector block cal_apps"},[i("li",[i("label",{staticClass:"google_calendar",on:{click:function(e){return t.add_calendar_account("google_calendar")}}},[t._v("Google Calendar")])]),t._m(0),t._m(1),t._m(2),t._m(3)])]):t._e()])])])]),i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("label",[t._v("Configuration")]),i("ul",{staticClass:"mbox",staticStyle:{"margin-top":"0"}},[i("li",[i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v("Add bookings to...")]),i("div",{staticClass:"txt-help"},[t._v(" Set the calendar you would like to add new bookings to as they're scheduled. ")]),i("div",{staticClass:"cal-list cf p10 border-all border-round mt10",on:{click:t.show_choose_add_bookings_to_calendar_modal}},[t.calendar_accounts.hasOwnProperty(t.add_bookings_to_calendar_account_id)?i("div",[t._v(" Add to "),i("span",{staticClass:"cal-provider",class:t.calendar_accounts[t.add_bookings_to_calendar_account_id].provider},[t._v(" "+t._s(t.calendar_accounts[t.add_bookings_to_calendar_account_id].account_email)),i("a",{staticClass:"fl-rt"},[t._v("EDIT")])]),i("ul",{staticClass:"bull"},[i("li",[t._v(t._s(t.add_bookings_to_calendar.name))])])]):i("div",[t._v(" No calendar is choosen."),i("a",{staticClass:"fl-rt"},[t._v("EDIT")])])]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"choose_add_bookings_to_calendar_modal",height:"auto",width:"360px"},on:{"before-close":function(e){t.can_show_choose_add_bookings_to_calendar_modal=!1}}},[t.can_show_choose_add_bookings_to_calendar_modal?i("div",{staticClass:"mbox bg-light shadow mb0"},[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("label",{staticStyle:{"text-align":"center"}},[t._v("Which calendar should we add"),i("br"),t._v("new events to?")]),i("ul",{staticClass:"selector block mt10 add-to-cal"},[t._l(t.calendar_accounts,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_add_bookings_to_calendar_account_id,expression:"\n                                  tmp_edit_add_bookings_to_calendar_account_id\n                                "}],attrs:{type:"radio",id:"add-to-cal-opt"+a,name:"add_bookings_to_calendar_account"},domProps:{value:e.id,checked:t._q(t.tmp_edit_add_bookings_to_calendar_account_id,e.id)},on:{change:function(i){t.tmp_edit_add_bookings_to_calendar_account_id=e.id}}}),i("label",{class:e.provider,attrs:{for:"add-to-cal-opt"+a}},[t._v(" "+t._s(e.account_email))])])})),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_add_bookings_to_calendar_account_id,expression:"\n                                  tmp_edit_add_bookings_to_calendar_account_id\n                                "}],attrs:{type:"radio",id:"add-to-cal-dont",name:"add_bookings_to_calendar_account",value:"no"},domProps:{checked:t._q(t.tmp_edit_add_bookings_to_calendar_account_id,"no")},on:{change:function(e){t.tmp_edit_add_bookings_to_calendar_account_id="no"}}}),i("label",{attrs:{for:"add-to-cal-dont"}},[t._v("Do not add new bookings to any calendar")])])],2)])]),t.calendar_accounts.hasOwnProperty(t.tmp_edit_add_bookings_to_calendar_account_id)?i("div",[i("div",{staticStyle:{"font-size":"14px",margin:"20px 0 5px"}},[t._v(" Add to Calendar ")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_add_bookings_to_calendar_id,expression:"tmp_edit_add_bookings_to_calendar_id"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tmp_edit_add_bookings_to_calendar_id=e.target.multiple?i:i[0]}}},t._l(this.calendar_accounts[t.tmp_edit_add_bookings_to_calendar_account_id].calendars,(function(e,a){return i("option",{key:a,attrs:{disabled:"0"==e.is_writable},domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):t._e(),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.update_add_bookings_to_calendar_id}},[t._v(" Update ")])]):t._e()])],1)]),i("li",[i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v("Check for conflicts")]),i("div",{staticClass:"txt-help"},[t._v(" Set the calendar(s) to check for conflicts to prevent double bookings. ")]),i("div",[t._l(t.conflict_calendar_accounts,(function(e,a){return i("div",{key:a,staticClass:"cal-list cf p10 border-all border-round mt10",on:{click:function(i){t.conflict_calendar_account_id=e.id,t.show_choose_conflict_calendars_modal()}}},[i("div",[t._v(" Check "),i("span",{staticClass:"cal-provider",class:e.provider},[t._v(" "+t._s(e.account_email)),i("a",{staticClass:"fl-rt"},[t._v("EDIT")])]),t._l(e.calendars,(function(e,a){return i("div",{key:a},[i("ul",{staticClass:"bull"},[i("li",[t._v(t._s(e.name))])])])}))],2)])})),t._isEmpty(t.conflict_calendar_accounts)?i("div",{staticClass:"cal-list cf p10 border-all border-round mt10",on:{click:t.show_choose_conflict_calendars_modal}},[t._m(4)]):t._e()],2),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"choose_conflict_calendars_modal",height:"auto",width:"360px"},on:{"before-close":function(e){t.can_show_choose_conflict_calendars_modal=!1}}},[t.can_show_choose_conflict_calendars_modal?i("div",{staticClass:"mbox bg-light shadow"},[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("label",{staticClass:"mb10",staticStyle:{"text-align":"center"}},[t._v("Check for conflicts in...")]),t.calendar_accounts?i("select",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_conflict_calendar_account_id,expression:"tmp_edit_conflict_calendar_account_id"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tmp_edit_conflict_calendar_account_id=e.target.multiple?i:i[0]}}},t._l(this.calendar_accounts,(function(e,a){return i("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.account_email))])})),0):t._e(),i("div",{staticStyle:{"font-size":"14px",margin:"20px 0 5px"}},[t._v(" Check these calendars for conflicts ")]),t.tmp_edit_conflict_calendar_account_id?i("div",[i("ul",{staticClass:"selector block mt10 check-conflicts"},t._l(t.calendar_accounts[t.tmp_edit_conflict_calendar_account_id].calendars,(function(e,a){return i("li",{key:a},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tmp_edit_conflict_calendar_ids,expression:"tmp_edit_conflict_calendar_ids"}],attrs:{type:"checkbox",id:"check-conflicts-opt"+a},domProps:{value:e.id,checked:Array.isArray(t.tmp_edit_conflict_calendar_ids)?t._i(t.tmp_edit_conflict_calendar_ids,e.id)>-1:t.tmp_edit_conflict_calendar_ids},on:{change:function(i){var a=t.tmp_edit_conflict_calendar_ids,o=i.target,n=!!o.checked;if(Array.isArray(a)){var s=e.id,_=t._i(a,s);o.checked?_<0&&(t.tmp_edit_conflict_calendar_ids=a.concat([s])):_>-1&&(t.tmp_edit_conflict_calendar_ids=a.slice(0,_).concat(a.slice(_+1)))}else t.tmp_edit_conflict_calendar_ids=n}}}),i("label",{attrs:{for:"check-conflicts-opt"+a}},[t._v(t._s(e.name))])])})),0)]):t._e(),i("button",{staticClass:"wpc-btn primary md mt20",attrs:{type:"button"},on:{click:t.update_conflict_calendar_ids}},[t._v(" Update ")])])])]):t._e()])],1)])])])])])])],1),i("v-dialog")],1)},ti=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"disabled"},[i("label",{staticClass:"office365_calendar"},[i("em",[t._v("Office 365")]),i("span",[t._v("COMING SOON IN PRO")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"disabled"},[i("label",{staticClass:"exchange_calendar"},[i("em",[t._v("Exchange Calendar")]),i("span",[t._v("COMING SOON IN PRO")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"disabled"},[i("label",{staticClass:"outlook_calendar"},[i("em",[t._v("Outlook Plug-in")]),i("span",[t._v("COMING SOON IN PRO")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"disabled"},[i("label",{staticClass:"icloud_calendar"},[i("em",[t._v("iCloud Calendar")]),i("span",[t._v("COMING SOON IN PRO")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" No calendar is choosen. "),i("a",{staticClass:"fl-rt"},[t._v("EDIT")])])}],ei={components:{SettingsMenu:Ve},data:function(){return{document_title:"Calendars ‹ Settings",show_add_calandar_account_list:!1,calendar_accounts:[],can_show_choose_add_bookings_to_calendar_modal:!1,can_show_choose_conflict_calendars_modal:!1,add_bookings_to_calendar_account_id:"no",add_bookings_to_calendar_id:"",tmp_edit_add_bookings_to_calendar_account_id:"no",tmp_edit_add_bookings_to_calendar_id:"",conflict_calendar_ids:[],conflict_calendar_account_id:"",tmp_edit_conflict_calendar_ids:[],tmp_edit_conflict_calendar_account_id:"",disconnect_highlight_calendar_account_index:null}},computed:{add_bookings_to_calendar:function(){return this.add_bookings_to_calendar_account_id&&this.add_bookings_to_calendar_id&&this.calendar_accounts.hasOwnProperty(this.add_bookings_to_calendar_account_id)&&this.calendar_accounts[this.add_bookings_to_calendar_account_id].calendars.hasOwnProperty(this.add_bookings_to_calendar_id)?this.calendar_accounts[this.add_bookings_to_calendar_account_id].calendars[this.add_bookings_to_calendar_id]:{}},conflict_calendar_accounts:function(){var t={};for(var e in this.calendar_accounts)for(var i in this.calendar_accounts[e].calendars)-1!==this.conflict_calendar_ids.indexOf(i)&&(t.hasOwnProperty(e)||(t[e]=Object.assign({},this.calendar_accounts[e]),t[e].calendars={}),t[e].calendars[i]=this.calendar_accounts[e].calendars[i]);return t},enable_add_new_calendar_account:function(){return!0}},methods:{add_calendar_account:function(t){"google_calendar"===t&&(window.location="admin.php?page=wpcal_admin&wpcal_action=add_calendar_account&provider=google_calendar")},load_page:function(){var t=this,e="get_calendar_accounts_details_of_current_admin",i={};i[e]={dummy__:""};var a="get_add_bookings_to_calendar_of_current_admin";i[a]={dummy__:""};var o="get_conflict_calendar_ids_of_current_admin";i[o]={dummy__:""};var n={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,n).then((function(i){Object.assign(t.$data,t.$options.data.apply(t)),i.data&&i.data[e].hasOwnProperty("calendar_accounts_details")&&(t.calendar_accounts=i.data[e].calendar_accounts_details,"object"==Object(Wt["a"])(i.data[a])&&i.data[a].hasOwnProperty("add_bookings_to_calendar")&&i.data[a].add_bookings_to_calendar&&i.data[a].add_bookings_to_calendar.hasOwnProperty("calendar_id")&&(t.add_bookings_to_calendar_id=i.data[a].add_bookings_to_calendar.calendar_id,t.add_bookings_to_calendar_account_id=i.data[a].add_bookings_to_calendar.calendar_account_id),t.conflict_calendar_ids=i.data[o].conflict_calendar_ids,t.set_default_conflict_calendar_account_id())})).catch((function(t){console.log(t)}))},update_add_bookings_to_calendar_id:function(){var t=this,e=this.tmp_edit_add_bookings_to_calendar_id;"no"==this.tmp_edit_add_bookings_to_calendar_account_id&&(e="no");var i="update_add_bookings_to_calendar_id_for_current_admin",a={};a[i]={add_bookings_to_calendar_id:e};var o={action:"wpcal_process_admin_ajax_request",wpcal_request:a};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:"Settings saved."}),e.data&&e.data[i].hasOwnProperty("status")&&t.load_page()})).catch((function(t){console.log(t)})),this.$modal.hide("choose_add_bookings_to_calendar_modal")},update_conflict_calendar_ids:function(){var t=this,e="update_conflict_calendar_ids_for_current_admin",i={};i[e]={conflict_calendar_ids:this.tmp_edit_conflict_calendar_ids,conflict_calendar_ids_length:this.tmp_edit_conflict_calendar_ids.length};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){t.notify_single_action_result(i.data[e],{success_msg:"Settings saved."}),i.data&&i.data[e].hasOwnProperty("status")&&(t.load_page(),i.data&&"success"===i.data[e].status&&t.sync_all_calendar_api())})).catch((function(t){console.log(t)})),this.$modal.hide("choose_conflict_calendars_modal")},disconnect_calendar_by_id:function(t){var e=this,i="disconnect_calendar_by_id_for_current_admin",a={};a[i]={calendar_account_id:t.id,provider:t.provider};var o={action:"wpcal_process_admin_ajax_request",wpcal_request:a};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(t){e.notify_single_action_result(t.data[i],{success_msg:"Calendar is disconnected successfully."}),e.load_page()})).catch((function(t){console.log(t)}))},show_disconnect_confirmation:function(t){var e=this,i="Are you sure you want to disconnect the <br>";i+="<strong>"+t.account_email+"</strong> account?",this.$modal.show("dialog",{title:"Alert!",text:i,buttons:[{title:"Yes, disconnect it.",handler:function(){e.disconnect_calendar_by_id(t),e.$modal.hide("dialog")}},{title:"No, Cancel.",default:!0}]})},show_choose_add_bookings_to_calendar_modal:function(){this.tmp_edit_add_bookings_to_calendar_account_id=this.add_bookings_to_calendar_account_id,this.tmp_edit_add_bookings_to_calendar_id=this.add_bookings_to_calendar_id,this.can_show_choose_add_bookings_to_calendar_modal=!0,this.$modal.show("choose_add_bookings_to_calendar_modal")},show_choose_conflict_calendars_modal:function(){this.tmp_edit_conflict_calendar_account_id=this.conflict_calendar_account_id,this.tmp_edit_conflict_calendar_ids=this.conflict_calendar_ids,this.can_show_choose_conflict_calendars_modal=!0,this.$modal.show("choose_conflict_calendars_modal")},set_default_conflict_calendar_account_id:function(){for(var t in this.calendar_accounts){if(0==this.conflict_calendar_ids.length){this.conflict_calendar_account_id=t;break}for(var e in this.calendar_accounts[t].calendars)if(-1!==this.conflict_calendar_ids.indexOf(e))return void(this.conflict_calendar_account_id=t)}},sync_all_calendar_api:function(){var t=this;this.$store.dispatch("manage_background_task",{initial_time_out:3e4});var e="sync_all_calendar_api_for_current_admin",i={};i[e]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,a,{params:{_remove_options_before_call:{background_call:!0}}}).then((function(e){t.load_page()})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;this.load_page(),setTimeout((function(){t.sync_all_calendar_api()}),1e3)}},ii=ei,ai=(i("5536"),i("fbbe"),Object(r["a"])(ii,Xe,ti,!1,null,null,null)),oi=ai.exports,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Settings")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticClass:"form"},[i("div",{staticClass:"form-row"},[i("label",[t._v("My Integration accounts")]),i("div",{staticClass:"mbox loc-integration-accs"},[i("div",{staticClass:"set-locations-cont"},t._l(t.tp_accounts,(function(e,a){var o;return i("div",{key:a,staticClass:"set-locations-single",class:(o={},o["location_"+e.provider]=!0,o["del-alert"]=t.show_delete_highlight("disconnect_highlight_tp_account_index",a),o)},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("tp_provider_name")(e.provider))+" "),i("a",{staticStyle:{color:"#e84653",float:"right"},on:{click:function(i){return t.show_disconnect_confirmation(e)},mouseover:function(e){return t.set_mouseover_on_delete("disconnect_highlight_tp_account_index",a,!0)},mouseleave:function(e){return t.set_mouseover_on_delete("disconnect_highlight_tp_account_index",a,!1)}}},[t._v("Disconnect")])]),i("div",{staticClass:"txt-help"},[t._v(" "+t._s(e.tp_account_email)+" ")])])})),0),t.show_add_tp_account_list?t._e():i("button",{staticClass:"wpc-btn secondary md full-width",attrs:{disabled:!t.enable_add_new_tp_account,title:t.enable_add_new_tp_account?"":"You have added all available apps."},on:{click:function(e){t.show_add_tp_account_list=!0}}},[t._v(" + Add Integration ")]),t.show_add_tp_account_list?i("div",[i("div",{staticClass:"txt-h5 caps"},[t._v("Select your integration account")]),i("ul",{staticClass:"selector block compact location"},t._l(t.tp_accounts_add_list_final,(function(e,a){return i("li",{key:a},[i("label",{class:"location_"+e.provider,on:{click:function(i){return t.add_tp_account(e.provider)}}},[i("div",{staticClass:"txt-h5"},[t._v(" "+t._s(t._f("tp_provider_name")(e.provider))+" ")]),i("div",{staticClass:"txt-help",staticStyle:{"padding-top":"0"}},[t._v(" Web conferencing ")])])])})),0)]):t._e()])])])])])],1),i("v-dialog")],1)},si=[],_i={components:{SettingsMenu:Ve},data:function(){return{document_title:"Integrations ‹ Settings",show_add_tp_account_list:!1,tp_accounts:[],tp_accounts_add_list:[{provider:"zoom_meeting",limit:1,count:0,show:!0},{provider:"gotomeeting_meeting",limit:1,count:0,show:!0}],disconnect_highlight_tp_account_index:null}},computed:{tp_accounts_add_list_with_stats:function(){var t=this,e=this.clone_deep(this.tp_accounts_add_list),i=function(i){var a=t.tp_accounts[i],o=e.findIndex((function(t){return t.provider===a.provider}));void 0!=o&&(e[o].count++,e[o].limit<=e[o].count&&(e[o].show=!1))};for(var a in this.tp_accounts)i(a);return e},tp_accounts_add_list_final:function(){var t=[];for(var e in this.tp_accounts_add_list_with_stats)this.tp_accounts_add_list_with_stats[e].show&&t.push(this.tp_accounts_add_list_with_stats[e]);return t},enable_add_new_tp_account:function(){var t=this.tp_accounts_add_list_final.length>0;return t}},methods:{add_tp_account:function(t){"zoom_meeting"!==t&&"gotomeeting_meeting"!==t||(window.location="admin.php?page=wpcal_admin&wpcal_action=add_tp_account&provider="+t)},load_page:function(){var t=this,e="get_tp_accounts_of_current_admin",i={};i[e]={dummy__:""};var a={action:"wpcal_process_admin_ajax_request",wpcal_request:i};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(i){Object.assign(t.$data,t.$options.data.apply(t)),i.data&&i.data[e].hasOwnProperty("tp_accounts")&&(t.tp_accounts=i.data[e].tp_accounts),t.check_auth_for_tp_accounts()})).catch((function(t){console.log(t)}))},show_disconnect_confirmation:function(t){var e,i,a=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o?(e="Oops! Error while disconnecting the account. <br>Do want to <strong>force-disconnect</strong> the <br>",i="Yes, force-disconnect it."):(e="Are you sure you want to disconnect the <br>",i="Yes, disconnect it."),e+="<strong>"+this.$options.filters.tp_provider_name(t.provider)+" - "+t.tp_account_email+"</strong> account?",this.$modal.show("dialog",{title:"Alert!",text:e,buttons:[{title:i,handler:function(){a.disconnect_tp_account_by_id(t,o),a.$modal.hide("dialog")}},{title:"No, Cancel.",default:!0}]})},disconnect_tp_account_by_id:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="disconnect_tp_account_by_id_for_current_admin",o={};o[a]={tp_account_id:t.id,provider:t.provider,force:!0===i?"force_remove":""};var n="get_tp_accounts_of_current_admin";o[n]="dummy__";var s={action:"wpcal_process_admin_ajax_request",wpcal_request:o};C.a.post(window.wpcal_ajax.ajax_url,s).then((function(o){e.notify_single_action_result(o.data[a],{success_msg:"Account is disconnected successfully."}),!i&&o.data[a]&&o.data[a].hasOwnProperty("status")&&"error"==o.data[a].status&&setTimeout((function(){e.show_disconnect_confirmation(t,!0)}),1e3),o.data&&o.data[n].hasOwnProperty("tp_accounts")&&(e.tp_accounts=o.data[n].tp_accounts)})).catch((function(t){console.log(t)}))},check_auth_for_tp_accounts:function(){var t=this,e={},i="check_auth_if_fails_remove_tp_accounts_for_current_admin";e[i]="dummy__";var a="get_tp_accounts_of_current_admin";e[a]="dummy__";var o={action:"wpcal_process_admin_ajax_request",wpcal_request:e};C.a.post(window.wpcal_ajax.ajax_url,o,{params:{_remove_options_before_call:{background_call:!0}}}).then((function(e){e.data[i]&&e.data[i].hasOwnProperty("status")&&"error"==e.data[i].status&&t.notify_single_action_result(e.data[i],{success_msg:"Account checked successfully.",timeout:!1}),e.data&&e.data[a].hasOwnProperty("tp_accounts")&&(t.tp_accounts=e.data[a].tp_accounts)})).catch((function(t){console.log(t)}))}},mounted:function(){this.load_page()}},ri=_i,li=(i("7f09"),Object(r["a"])(ri,ni,si,!1,null,null,null)),ci=li.exports,di=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Settings")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticStyle:{"font-size":"16px",padding:"5px 0"}},[t._v("Admin WPCal Usage")]),i("table",{staticClass:"mbox settingAdmins"},[t._m(0),t._l(t.admin_users_details,(function(e,a){return i("tr",{key:a},[i("td",[i("a",{attrs:{href:"user-edit.php?user_id="+e.admin_user_id}},[t._v(t._s(e.name))])]),i("td",[t._v(t._s(e.services_count))]),i("td",[t._v(t._s(e.services_active_count))])])}))],2)])])],1)])},ui=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("Name")]),i("td",[t._v("Total Event Types")]),i("td",[t._v("Active Event Types")])])}],pi={components:{SettingsMenu:Ve},data:function(){return{document_title:"Admins ‹ Settings",admin_users_details:[]}},methods:{load_page:function(){var t=this,e={},i="get_wpcal_admin_users_details";e[i]="dummy__";var a={action:"wpcal_process_admin_ajax_request",wpcal_request:e};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(e){e.data&&e.data[i].hasOwnProperty("admin_users_details")&&(t.admin_users_details=e.data[i].admin_users_details)})).catch((function(t){console.log(t)}))}},mounted:function(){this.load_page()}},mi=pi,vi=(i("7f4c"),Object(r["a"])(mi,di,ui,!1,null,"0edf799a",null)),fi=vi.exports,hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Settings")]),i("AdminHeaderRight")],1),i("SettingsMenu"),i("div",{staticClass:"col-cont settings-cont"},[i("div",{staticClass:"col"},[i("div",{staticStyle:{"font-size":"16px",padding:"5px 0px"}},[t._v(" Account Information ")]),t.license_info.email?i("div",{staticClass:"mbox"},[i("table",[i("tr",[i("td",{staticStyle:{"text-align":"right"}},[t._v("Email:")]),i("td",[t._v(" "+t._s(t.license_info.email)+" ")])]),t.license_info.plan_name?i("tr",[i("td",{staticStyle:{"text-align":"right"}},[t._v("Plan:")]),i("td",[t._v(" "+t._s(t.license_info.plan_name)+" ")])]):t._e()])]):t._e()])])],1)])},gi=[],bi={components:{SettingsMenu:Ve},data:function(){return{document_title:"Account ‹ Settings"}},computed:{license_info:function(){return this.$store.getters.get_license_info}}},yi=bi,wi=Object(r["a"])(yi,hi,gi,!1,null,null,null),xi=wi.exports,ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[t.first_time_logged_in?t._e():i("div",[i("div",{staticClass:"page-title-cont"},[i("h1",{staticClass:"wp-heading-inline"},[t._v("WPCal.io - Settings")]),i("AdminHeaderRight")],1),i("SettingsMenu")],1),i("div",{staticClass:"col-cont"},[i("div",{staticClass:"col",staticStyle:{margin:"100px auto 0"}},["login"==t.show_form?i("div",[i("div",{staticStyle:{"font-size":"18px","text-align":"center",padding:"20px"}},[t._v(" Login to your WPCal.io account ")]),i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"form"},[t.form_signup_success?i("div",{staticStyle:{border:"1px dashed #81e846",padding:"10px","border-radius":"5px","background-color":"rgba(129, 232, 70, 0.2)","margin-bottom":"10px"}},[t._v(" Your account has been created successfully. Please login now using the "),i("span",{staticStyle:{"text-decoration":"underline"}},[t._v("password sent to your email")]),t._v(". ")]):t._e(),i("form-row",{attrs:{validator:t.$v.form_login.email}},[i("label",{attrs:{for:"form_login_email"}},[t._v("Email address")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form_login.email,expression:"form_login.email"}],attrs:{id:"form_login_email",type:"text",name:"email",tabindex:"1"},domProps:{value:t.form_login.email},on:{blur:function(e){return t.$v.form_login.email.$touch()},input:function(e){e.target.composing||t.$set(t.form_login,"email",e.target.value)}}})]),i("form-row",{attrs:{validator:t.$v.form_login.password}},[i("label",{attrs:{for:"form_login_password"}},[t._v(" Password "),i("em",[i("a",{attrs:{href:t.$store.getters.get_wpcal_site_urls.lost_pass_url,target:"_blank"}},[t._v("Forgot password?")])])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form_login.password,expression:"form_login.password"}],attrs:{id:"form_login_password",type:"password",tabindex:"2"},domProps:{value:t.form_login.password},on:{blur:function(e){return t.$v.form_login.password.$touch()},input:function(e){e.target.composing||t.$set(t.form_login,"password",e.target.value)}}})]),i("div",{staticClass:"form-row"},[i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",tabindex:"3",disabled:!t.login_btn_is_enabled},on:{click:function(e){t.form_login_submit(),t.form_signup_success=!1}}},[t._v(" "+t._s(t.login_btn_txt)+" ")])])],1),i("div",{staticClass:"form-row",staticStyle:{"text-align":"center","font-size":"14px"}},[t._v(" Don't have an account yet? "),i("a",{staticStyle:{"font-size":"14px"},on:{click:function(e){t.show_form="signup",t.form_signup_success=!1}}},[t._v("Create your account now")]),t._v(". ")])]):t._e(),"signup"==t.show_form?i("div",[i("div",{staticStyle:{"font-size":"18px","text-align":"center",padding:"20px"}},[t._v(" Create your WPCal.io account ")]),t._m(0),i("div",{staticClass:"validation_errors_cont"}),i("div",{staticClass:"form"},[i("form-row",{attrs:{validator:t.$v.form_signup.email}},[i("label",{attrs:{for:"form_singup_email"}},[t._v("Enter your work email")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form_signup.email,expression:"form_signup.email"}],attrs:{id:"form_singup_email",type:"text",name:"email"},domProps:{value:t.form_signup.email},on:{blur:function(e){return t.$v.form_signup.email.$touch()},input:function(e){e.target.composing||t.$set(t.form_signup,"email",e.target.value)}}})]),t._m(1),t._m(2),i("div",{staticClass:"form-row"},[i("button",{staticClass:"wpc-btn primary lg",attrs:{type:"button",disabled:!t.signup_btn_is_enabled},on:{click:t.form_signup_submit}},[t._v(" "+t._s(t.signup_btn_txt)+" ")])]),i("div",{staticClass:"form-row",staticStyle:{"text-align":"center","font-size":"14px"}},[t._v(" Already have an account? "),i("a",{staticStyle:{"font-size":"14px"},on:{click:function(e){t.show_form="login",t.form_signup_success=!1}}},[t._v("Login now")]),t._v(". ")])],1)]):t._e()])])]),i("modal",{staticStyle:{"z-index":"9999"},attrs:{name:"stronger_together_plan_modal",width:"700px",height:"auto",scrollable:!0,adaptive:!0},on:{"before-close":t.stronger_together_plan_modal_before_close}},[i("div",{staticClass:"covid-consent-cont"},[i("div",{staticStyle:{"text-align":"center",display:"flex",width:"100%"}},[i("div",{staticStyle:{"padding-right":"20px","padding-top":"10px"}},[t._v("🚨")]),i("div",{staticStyle:{flex:"1"}},[t._v(" To help you schedule meetings remotely, we are offering "),i("strong",[t._v("all paid features 100% FREE")]),t._v(" exclusively for use during the COVID-19 crisis. ")]),i("div",{staticStyle:{"padding-left":"20px","padding-top":"10px"}},[t._v("🚨")])]),i("table",[i("tr",[i("td"),i("td",[t._v("Free forever")]),i("td",[t._v("Plus & Pro plans")]),i("td",[t._v(" Stronger, Together! Plan "),i("div",{staticStyle:{"background-color":"#fff200","font-size":"11px","font-weight":"normal","margin-top":"5px"}},[t._v(" All paid features 100% Free during Covid-19 crisis ")])])]),i("tr",[i("td",[t._v("Number of users who can use the plugin")]),i("td",[t._v("1 user per site")]),i("td",[t._v("Unlimited")]),i("td",[t._v("Unlimited")])]),i("tr",[i("td",[t._v("Number of connected calendar accounts")]),i("td",[t._v("1 calendar account per user")]),i("td",[t._v("Unlimited calendar accounts per user")]),i("td",[t._v("Unlimited calendar accounts per user")])]),i("tr",[i("td",[t._v("Number of active Event Types")]),i("td",[t._v("1 active event type")]),i("td",[t._v("Unlimited")]),i("td",[t._v("Unlimited")])]),i("tr",[i("td",[t._v("Google Meet integration")]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})])]),i("tr",[i("td",[t._v("GoToMeeting integration")]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})])]),i("tr",[i("td",[t._v("Zoom integration")]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})]),i("td",[i("span",{staticClass:"check"})])])]),i("div",{staticStyle:{"text-align":"right"}},[i("a",{attrs:{href:"https://wpcal.io/?utm_source=wpcal_plugin&utm_medium=stronger_together_dialog#pricing",target:"_blank"}},[t._v("See Pricing for more Premium features ↗")])]),i("div",{staticClass:"consent-action"},[i("div",{staticStyle:{"font-weight":"500"}},[t._v("COVID-19 CONSENT")]),i("label",{staticClass:"consent-agreement"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.stronger_together_plan_details.consent,expression:"stronger_together_plan_details.consent"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.stronger_together_plan_details.consent)?t._i(t.stronger_together_plan_details.consent,null)>-1:t.stronger_together_plan_details.consent},on:{change:function(e){var i=t.stronger_together_plan_details.consent,a=e.target,o=!!a.checked;if(Array.isArray(i)){var n=null,s=t._i(i,n);a.checked?s<0&&t.$set(t.stronger_together_plan_details,"consent",i.concat([n])):s>-1&&t.$set(t.stronger_together_plan_details,"consent",i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.stronger_together_plan_details,"consent",o)}}}),t._v("I understand that the "),i("strong",[t._v("Stronger, Together!")]),t._v(" plan will be available only during the COVID-19 crisis after which I can either continue using the free features or need to subscribe to a paid plan to continue using premium features. ")]),i("div",{staticStyle:{"text-align":"center"}},[t._v(" We’ll email you at "),i("strong",[t._v(t._s(t.$store.getters.get_license_info.email))]),t._v(", 30 days in advance before "),i("br"),t._v("removing the "),i("strong",[t._v("Stronger, Together!")]),t._v(" plan. ")])]),i("div",{staticStyle:{"text-align":"right","margin-top":"30px"}},[i("button",{attrs:{disabled:!t.stronger_together_plan_details.consent},on:{click:t.handle_stronger_together_plan_modal_button}},[t._v(" I understand, Continue → ")])])])]),i("a",{staticStyle:{display:"none"},on:{click:t.show_stronger_together_plan_modal}},[t._v("___ Lorem Ipsum (Show Stronger, Together!)")])],1)},$i=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"background-color":"#E4E9F5",border:"1px dashed #567bf3",padding:"10px 10px 0px 10px","border-radius":"5px"}},[t._v(" You need to create an account for - "),i("br"),i("ul",[i("li",{staticStyle:{"list-style":"disc","margin-left":"20px"}},[t._v(" timely notification emails to you and your invitees. ")]),i("li",{staticStyle:{"list-style":"disc","margin-left":"20px"}},[t._v(" 1-click connect to apps like Zoom, Google Meet etc. ")]),i("li",{staticStyle:{"list-style":"disc","margin-left":"20px","margin-bottom":"0"}},[t._v(" syncing calendar event changes to handle conflicts. ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-row"},[i("label",[t._v("Password")]),i("div",{staticStyle:{"font-size":"12px","font-style":"italic","padding-bottom":"10px"}},[t._v(" A secure password will be generated and sent to your email. ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"padding-bottom":"10px","text-align":"center","font-size":"11px"}},[t._v(" By clicking on the Create my Account now button below, you agree that you have read and accept the "),i("a",{staticStyle:{"font-size":"11px"},attrs:{href:"https://wpcal.io/terms-of-use/",target:"_blank"}},[t._v("Terms of Use")]),t._v(". ")])}],Ci={components:{SettingsMenu:Ve},data:function(){return{form_login:{email:"",password:""},form_signup:{email:""},show_form:"login",form_signup_success:!1,stronger_together_plan_details:{consent:!1,i_understand_clicked:!1},first_time_logged_in:!1,login_btn_is_enabled:!0,signup_btn_is_enabled:!0}},validations:{form_login:{email:{required:Q["required"],email:Q["email"]},password:{required:Q["required"]}},form_signup:{email:{required:Q["required"],email:Q["email"]}}},computed:{login_btn_txt:function(){return this.login_btn_is_enabled?"Login to my account":"Logging you in..."},signup_btn_txt:function(){return this.signup_btn_is_enabled?"Create my Account now":"Creating your account..."}},methods:{form_login_submit:function(){var t=this;if(this.$v.form_login.$touch(),this.$v.form_login.$anyError)return this.scroll_to_first_validation_error(),!1;this.login_btn_is_enabled=!1;var e={},i="license_auth_login";e[i]=this.form_login;var a="license_status";e[a]="dummy__";var o={action:"wpcal_process_admin_ajax_request",wpcal_request:e};C.a.post(window.wpcal_ajax.ajax_url,o).then((function(e){t.notify_single_action_result(e.data[i],{success_msg:"Successfully logged in."}),"success"==e.data[i].status&&"success"==e.data[a].status&&(!0===t.first_time_logged_in?t.show_stronger_together_plan_modal():t.$router.push("/settings/account"),t.$store.commit("set_license_info",e.data[a].license_info))})).catch((function(t){console.log(t)})).then((function(){t.login_btn_is_enabled=!0}))},form_signup_submit:function(){var t=this;if(this.$v.form_signup.$touch(),this.$v.form_signup.$anyError)return this.scroll_to_first_validation_error(),!1;this.signup_btn_is_enabled=!1;var e={},i="license_signup";e[i]=this.form_signup;var a={action:"wpcal_process_admin_ajax_request",wpcal_request:e};C.a.post(window.wpcal_ajax.ajax_url,a).then((function(e){e.data[i].hasOwnProperty("status")&&"error"===e.data[i].status&&t.notify_single_action_result(e.data[i],{success_msg:"Settings saved."}),e.data[i].hasOwnProperty("status")&&"success"===e.data[i].status&&(t.form_login.email=t.form_signup.email,t.show_form="login",t.form_signup_success=!0)})).catch((function(t){console.log(t)})).then((function(){t.signup_btn_is_enabled=!0}))},show_stronger_together_plan_modal:function(){this.$modal.show("stronger_together_plan_modal")},handle_stronger_together_plan_modal_button:function(){this.stronger_together_plan_details.i_understand_clicked=!0,this.$modal.hide("stronger_together_plan_modal"),this.$router.push("/event-types")},stronger_together_plan_modal_before_close:function(t){this.stronger_together_plan_details.i_understand_clicked&&this.stronger_together_plan_details.consent||t.stop()},check_and_set_first_time_logged_in:function(){if(null!==this.$store.getters.get_license_info)return this._isEmpty(this.$store.getters.get_license_info)?(this.first_time_logged_in=!0,void(this.show_form="signup")):void 0}},mounted:function(){this.check_and_set_first_time_logged_in(),""==this.form_login.email&&(this.form_login.email=this.$store.getters.get_license_info.email?this.$store.getters.get_license_info.email:this.$store.getters.get_current_admin_details.email),""==this.form_signup.email&&(this.form_signup.email=this.$store.getters.get_license_info.email?this.$store.getters.get_license_info.email:this.$store.getters.get_current_admin_details.email)},beforeRouteLeave:function(t,e,i){null!==this.$store.getters.get_license_info&&this._isEmpty(this.$store.getters.get_license_info)?i(!1):i()}},qi=Ci,Si=(i("7ee8"),Object(r["a"])(qi,ki,$i,!1,null,"35a459ba",null)),Oi=Si.exports;a["default"].use(u["a"]);var ji=[{path:"/",redirect:"/bookings"},{path:"/event-types",name:"service_list",component:j},{path:"/event-type/add",name:"service_add",component:Ce},{path:"/event-type/edit/:service_id",name:"service_edit",component:Ce},{path:"/bookings",name:"booking_list",component:Ye},{path:"/settings",name:"setting_general",component:Ke},{path:"/settings/calendars",name:"setting_calendars",component:oi},{path:"/settings/integrations",name:"setting_integrations",component:ci},{path:"/settings/admins",name:"setting_admins",component:fi},{path:"/settings/account",name:"setting_account",component:xi},{path:"/settings/account/login",name:"setting_account_login",component:Oi}],Pi=new u["a"]({routes:ji});Pi.beforeEach((function(t,e,i){var a="admin";document.getElementById("wpcal_"+a+"_app").classList.add("loading-indicator"),i()})),Pi.afterEach((function(t,e){var i=function(){setTimeout(Object(d["a"])(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.matched[0].instances;case 2:a=e.sent,o=(null===(i=a.default)||void 0===i?void 0:i.document_title_final)?a.default.document_title_final:"",v.dispatch("set_document_title",o);case 5:case"end":return e.stop()}}),e)}))),50)};i();var a="admin";document.getElementById("wpcal_"+a+"_app").classList.remove("loading-indicator")}));var Ei=Pi,zi=(i("399f"),i("1619"),i("751a"),i("1881")),Ai=i.n(zi),Ni=i("404b"),Ti=i.n(Ni),Ii=i("1dce"),Mi=i.n(Ii),Di=i("7f53"),Li=i("2242"),Ri=i("e399"),Yi=i.n(Ri);i("2068");i.p=window.__wpcal_dist_url,window.__wpcal_client_end="admin",a["default"].use(Ai.a,{dialog:!0}),a["default"].component("v-date-picker",Ti.a),a["default"].use(Mi.a),a["default"].use(Di["a"],Li["a"]);var Fi={timeout:5e3,position:"topRight",drag:!1};a["default"].use(Yi.a,Fi),a["default"].config.productionTip=!1,document.addEventListener("DOMContentLoaded",(function(){new a["default"]({router:Ei,store:v,render:function(t){return t(c)}}).$mount("#wpcal_admin_app")}))},aec3:function(t,e,i){"use strict";var a=i("e249"),o=i.n(a);o.a},b0c6:function(t,e,i){"use strict";var a=i("28ea"),o=i.n(a);o.a},b735:function(t,e,i){"use strict";var a=i("f89f"),o=i.n(a);o.a},c6fa:function(t,e,i){},c96a:function(t,e,i){"use strict";var a=i("1bd1"),o=i.n(a);o.a},cdf9c:function(t,e,i){"use strict";var a=i("a502"),o=i.n(a);o.a},d5a7:function(t,e,i){"use strict";var a=i("7d3d"),o=i.n(a);o.a},e249:function(t,e,i){},e49b:function(t,e,i){"use strict";var a=i("aa9f"),o=i.n(a);o.a},eec2:function(t,e,i){"use strict";var a=i("a550"),o=i.n(a);o.a},f3b6:function(t,e,i){},f89f:function(t,e,i){},fbbe:function(t,e,i){"use strict";var a=i("704d"),o=i.n(a);o.a},fbdf:function(t,e,i){"use strict";var a=i("744a"),o=i.n(a);o.a}});
//# sourceMappingURL=admin.js.map